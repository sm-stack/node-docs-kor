---
id: keys
title: 키 관리
sidebar_label: 키 관리
sidebar_position: 4
description: NEAR 노드 키 관리
---

## 키란 무엇인가요? {#what-are-keys}

공개 키 암호화에는 공개 키와 비공개 키 쌍이 있어서, 네트워크를 통해 검증 가능한 트랜잭션에 서명하고 전송할 수 있습니다. NEAR는 ID에 공개 키를 사용하고 서명에 개인 키를 사용하는 일반적인 접근 방식을 취합니다. 내부적으로 NEAR 플랫폼은 안전한 암호화 결과를 신속하게 생성하는 여러 "타원 곡선" 중 하나인 ed25519를 사용합니다. 특히 JavaScript에서는 `tweetnacl`, Rust에서는 `libsodium`를 사용합니다.

## 다른 유형의 키가 있나요? {#are-there-different-types-of-keys}

NEAR 플랫폼에는 3가지 유형의 키 쌍이 있습니다.

- 서명자 키 (e.g. 계정 키, 액세스 키)
- 밸리데이터 키
- 노드 키

**서명자 키**는 우리 모두가 알고 사랑하는 키입니다. 서명자 키는 네트워크의 계정에서 `sendMoney`나 `stake`와 같은 트랜잭션을 네트워크에 보내기 전에 서명하는 과정에서 사용됩니다. 서명자 키는 어떤 식으로든 노드 실행과 관련이 없습니다. 예를 들어 [NEAR 지갑](https://wallet.near.org/)을 통해 가입한 최종 사용자는 자신의 서명자 키를 받습니다. 사람들은 이 키에 대해 항상 생각하고, 안전하게 보관합니다.

현재 사용 가능한 두 가지 서명자 키(`FullAccess` 키 및 `FunctionCall` 키)가 있습니다. 첫 번째 키는 "계정을 대신하여 행동"하는 무제한 제어 권한을 가집니다(NEAR CLI 및 NEAR 지갑에서 사용자를 위해 작업을 수행하는 데 사용됨). 두 번째는 컨트랙트 스토리지 및 계산 작업으로 제한됩니다. 이 두 가지 유형의 키는 계정 소유자가 취소할 수 있습니다. NEAR 플랫폼이 처리할 수 있는 키의 종류에는 제한이 없으므로, 투표, 쇼핑, 공무 수행 등을 위한 키를 쉽게 상상할 수 있고, 각각 데이터에 대한 자체 액세스 제어, 프로그래밍 가능한 시간 제한 등의 기능이 있을 것입니다. 그러나 계정에 발급된 키에 대해서는 임대료를 지불해야 한다는 점을 명심하세요.

**밸리데이터 키**는 밸리데이터(시스템의 무결성 유지에 전념하는 사람 및 회사)가 네트워크에서 블록 및 청크의 유효성을 검사하는 작업을 지원하는 데 사용됩니다. 사람 밸리데이터는 키를 만들고 재설정하는 것 이상으로 이러한 키에 대해 생각하지 않습니다. 밸리데이터의 노드에 추가되면, 밸리데이터 키는 노드에서 블록 및 청크 유효성 검사 작업을 수행하는 데 사용됩니다. 밸리데이터의 편의를 위해, 밸리데이터 키가 이미 존재하지 않는 경우 노드 시작 시 스크립트에 의해 생성되지만(NEAR Stake Wars의 경우, `start_stakewars.py` 스크립트) 이는 변경될 수 있습니다.

**노드 키**는 플랫폼의 핵심 기여자를 제외하고는 네트워크의 어떤 사람도 생각하지 않는 키입니다. 블록 헤더를 보내거나 다른 확인 가능한 요청을 만드는 것과 같이, 이러한 키는 네트워크의 다른 노드와의 저수준 통신에 서명하기 위해 노드 내에서 사용됩니다. 현재 노드 키는 스크립트에 의해 시작 시 제공됩니다. NEAR Stake Wars의 경우 `start_stakewars.py`가 현재 이러한 키를 생성하는 스크립트이지만, 이는 향후 변경될 수 있습니다.

## 키를 변경할 수 있나요? {#can-keys-be-changed}

그렇습니다. 하지만 해당 키에서만 _재설정_ (즉, 새 키 쌍으로 재생성)할 수 있습니다. 개인 키가 분실되거나 손상된 경우, 새 키 쌍을 생성해야 합니다. 이것은 보안 키의 특성일 뿐입니다.

**서명자**는 마음대로 새 키를 만들고 기존 키를 취소할 수 있습니다. NEAR 지갑은, 예를 들어 한 컴퓨터에서 다른 컴퓨터로 서명자 키를 편리하게 이동할 수 있도록 하는 SMS 또는 시드 문구를 통한 키 복구도 지원하고 있습니다.

**밸리데이터**는 언제든지 밸리데이터 키를 재설정할 수 있는 옵션이 있지만, 스테이킹하는 동안 밸리데이터 키를 재설정하지 않는 것이 좋습니다. 키를 재설정하려면, 밸리데이터는 노드를 중지하고 밸리데이터 키를 변경한 다음 노드를 다시 시작해야 합니다. 그러면, 모든 새로운 밸리데이터 출력은 이러한 새 키로 서명됩니다

**노드**는 노드 키를 재설정할 필요가 없습니다.

<blockquote class="info">
<strong>알고 계셨나요?</strong><br /><br />

블록체인에서 상태 전환을 관리하는 하위 시스템인 NEAR 런타임에 대한 간략하게 설명하자면(예: 한 블록에서 다음 블록으로 항목 이동 유지), 시스템의 이동이 에포크라고 하는 단계에서 발생한다는 점을 이해하는 것이 좋습니다. 에포크 내에서 밸리데이터 그룹은 변경되지 않습니다. [Nightshade 백서](https://near.org/downloads/Nightshade.pdf)에서는 에포크를 다음과 같이 소개합니다: "네트워크 관리는 에포크 단위로 이루어지고, 에포크는 일 단위의 기간입니다". 해당 논문에 훨씬 더 자세한 내용이 있습니다.

각 에포크가 시작될 때, 계산을 통해 바로 다음 에포크(방금 시작된 것이 아님)에 대한 밸리데이터 목록이 생성됩니다. 이 계산에 대한 입력에는 시스템의 스테이킹 임계값보다 일정 금액을 스테이킹하여 밸리데이터가 되기 위해 "손을 든" 모든 밸리데이터가 포함됩니다. 이 계산의 출력은 바로 다음 에포크의 밸리데이터 목록입니다.

에포크 동안 밸리데이터가 선출되면, 그들은 다른 사람들이 스토리지를 임대하고 이를 기반으로 계산을 수행할 수 있도록 노드를 계속 실행하면서, "행동"하려는 의도를 가지고 스테이크(즉, 토큰 형태로 게임에 스킨을 넣을)할 기회를 갖습니다. 시스템에서 감지한 밸리데이터 측의 파울 플레이는 무결성을 벗어난 것으로 표시되고, 지분를 몰수하고 다른 밸리데이터에게 재분배하는 슬래싱 이벤트가 발생할 수 있습니다.


</blockquote>

<blockquote class="warning">
<strong>주의</strong><br /><br />

밸리데이터가 _스테이킹하는 에포크 동안_ 밸리데이터 키가 변경되면, 서명이 (새 키와) 일치하지 않기 때문에 밸리데이터의 출력이 거부됩니다. 즉, 밸리데이터는 에포크가 끝날 때까지 최소 밸리데이터 출력 임계값을 충족할 수 없으며, 밸리데이터로서의 위치를 ​​잃을 수 있습니다. 그들의 지분은 밸리데이터들에게 반환될 것입니다.


</blockquote>

식별자로 사용되는 키의 구체적인 예로, 아래에서 다양한 NEAR 네트워크의 밸리데이터 및 활성 노드 목록을 볼 수 있습니다.

- NEAR testnet (현재 스테이킹 비활성화됨)
  - https://rpc.testnet.near.org/status
  - https://rpc.testnet.near.org/network_info

- NEAR betanet
  - https://rpc.betanet.near.org/status
  - https://rpc.betanet.near.org/network_info

>질문이 있으신가요?
<a href="https://stackoverflow.com/questions/tagged/nearprotocol">
  <h8>StackOverflow에 물어보세요!</h8></a>
