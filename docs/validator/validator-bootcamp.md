---
id: validator-bootcamp
title: NEAR ë°¸ë¦¬ë°ì´í„° ë¶€íŠ¸ìº í”„
sidebar_label: NEAR ë°¸ë¦¬ë°ì´í„° ë¶€íŠ¸ìº í”„ ğŸš€
sidebar_position: 2
description: NEAR ë°¸ë¦¬ë°ì´í„° ë¶€íŠ¸ìº í”„
---

# NEAR ë°¸ë¦¬ë°ì´í„° ë¶€íŠ¸ìº í”„ ğŸš€
---

### ë°¸ë¦¬ë°ì´í„° ì˜¨ë³´ë”© FAQ's

***ë©”ì¸ë„·ì˜ ë°¸ë¦¬ë°ì´í„° ìˆ˜ë¥¼ ëŠ˜ë¦¬ëŠ” í˜„ì¬ í”„ë¡œí† ì½œ ì—…ê·¸ë ˆì´ë“œëŠ” ë¬´ì—‡ì¸ê°€ìš”??***

ë©”ì¸ë„· ë°¸ë¦¬ë°ì´í„° ìˆ˜ë¥¼ ëŠ˜ë¦¬ê¸° ìœ„í•œ ë‹¤ìŒ ì—…ê·¸ë ˆì´ë“œëŠ” Chunk-Only Producersë¥¼ ë„ì…í•  ì˜ˆì •ì´ë©°, í˜„ì¬ 2022ë…„ 3ë¶„ê¸°ë¡œ ì˜ˆì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. Chunk-Only Producerê°€ ë˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì„ ì•Œê³  ì‹¶ë‹¤ë©´, https://near.org/decentralize/ë¡œ ì´ë™í•´ ë“±ë¡í•˜ì„¸ìš”.

***ë©”ì¸ë„·ì—ì„œ ë°¸ë¦¬ë°ì´í„°ë¡œ NEARì— ê°€ì…í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”? ì–´ë–¤ ì¡°ì¹˜ë¥¼ ì·¨í•´ì•¼ í•©ë‹ˆê¹Œ?***

1. ë°¸ë¦¬ë°ì´í„°ê°€ ë˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ë ¤ë©´, https://near.org/validators/ë¡œ ì´ë™í•˜ì„¸ìš”.
2. [Open Shards Alliance Server](https://discord.com/invite/t9Kgbvf)ì— ê°€ì…í•˜ì—¬ ë…¸ë“œë¥¼ ì‹¤í–‰í•˜ê³  ê¸¸ë“œë„·ì— ì°¸ì—¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ì„¸ìš”.

***NEAR í”„ë¡œí† ì½œì˜ í–¥í›„ ê³„íšì€ ë¬´ì—‡ì¸ê°€ìš”?***

https://near.org/blog/near-launches-simple-nightshade-the-first-step-towards-a-sharded-blockchain/ì—ì„œ í”„ë¡œí† ì½œ ë¡œë“œë§µì— ëŒ€í•´ ì•Œì•„ë³´ì„¸ìš”.

---

## ë ˆìŠ¨ 1 - NEAR ê°œìš”


#### ë¸”ë¡ì²´ì¸ ê¸°ìˆ 

ë¸”ë¡ì²´ì¸ì€ ì›ë˜ ë¹„íŠ¸ì½”ì¸ì´ ê°œë°œí•œ ì‹ ê¸°ìˆ ì…ë‹ˆë‹¤. ë¸”ë¡ì²´ì¸ ê¸°ìˆ ì„ ì„¤ëª…í•˜ëŠ” ë° ê°€ì¥ ìì£¼ ì‚¬ìš©ë˜ëŠ” ìš©ì–´ëŠ” "ê³µê³µ ì›ì¥"ì…ë‹ˆë‹¤. ì„¤ëª…í•˜ê¸° ì‰¬ìš´ ë°©ë²•ì€, ëª‡ ê°€ì§€ ì£¼ìš” ì°¨ì´ì ì„ ì œì™¸í•˜ê³  ì”ì•¡, ì°¨ë³€ ë° ëŒ€ë³€ì„ ì¶”ì í•˜ëŠ” ì€í–‰ ëª…ì„¸ì„œì™€ ìœ ì‚¬í•˜ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

- ë¬´í•œ â€“ ë„¤íŠ¸ì›Œí¬ê°€ ì‘ë™í•˜ëŠ” í•œ í•­ìƒ íŠ¸ëœì­ì…˜ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë¶ˆë³€ â€“ ì¼ë‹¨ ì‘ì„±(ê²€ì¦)ë˜ë©´ ë³€ê²½í•  ìˆ˜ ì—†ìœ¼ë©° ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- íƒˆì¤‘ì•™í™”  â€“ ì „ ì„¸ê³„ì— ìˆëŠ” ë°¸ë¦¬ë°ì´í„°(ê°œë³„ ë…¸ë“œ)ì—ì„œ ë¸”ë¡ì²´ì¸ì„ ìœ ì§€ ê´€ë¦¬í•©ë‹ˆë‹¤.
- ê²€ì¦ ê°€ëŠ¥ â€“ íŠ¸ëœì­ì…˜ì€ ì§€ë¶„ ì¦ëª…(POS) ë˜ëŠ” ì‘ì—… ì¦ëª…(POW) ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬, ë¶„ì‚°ëœ ë°¸ë¦¬ë°ì´í„° ê°„ í•©ì˜ë¥¼ í†µí•´ ê²€ì¦ë©ë‹ˆë‹¤. 

#### ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸
ëª¨ë“  ë¸”ë¡ì²´ì¸ì´ ë™ì¼í•œ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. ì¼ë¶€ëŠ” íŠ¸ëœì­ì…˜(ì”ì•¡, ì°¨ë³€ ë° ëŒ€ë³€) ì²˜ë¦¬ë§Œ í—ˆìš©í•˜ì§€ë§Œ, NEAR ë° Ethereumê³¼ ê°™ì€ ë¸”ë¡ì²´ì¸ì€ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ëŠ” ë¸”ë¡ì²´ì¸ì—ì„œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë˜ ë‹¤ë¥¸ ê¸°ëŠ¥ ë ˆì´ì–´ì…ë‹ˆë‹¤.

ì‰½ê²Œ ìƒê°í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ "ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸"ë¥¼ ì§€ì›í•˜ëŠ” ë¸”ë¡ì²´ì¸ì´ ìŠˆí¼ì»´í“¨í„°ì™€ ê°™ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì‚¬ìš©ìì™€ ê°œë°œìëŠ” ì „ ì„¸ê³„ì ìœ¼ë¡œ CPU/ë©”ëª¨ë¦¬(ë¦¬ì†ŒìŠ¤) ë° ë””ìŠ¤í¬(ìŠ¤í† ë¦¬ì§€)ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ìš”ê¸ˆì„ ì§€ë¶ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ ëª¨ë“  ê²ƒì„ ë¸”ë¡ì²´ì¸ì— ì €ì¥í•˜ëŠ” ê²ƒì€ ë¹„ìš©ì´ ë„ˆë¬´ ë§ì´ ë“¤ê¸° ë•Œë¬¸ì— ì´ì¹˜ì— ë§ì§€ ì•ŠìŠµë‹ˆë‹¤. ì›¹ í”„ë¡ íŠ¸ì—”ë“œ(HTML, CSS ë° JS)ëŠ” ì›¹ í˜¸ìŠ¤íŒ…, Github ë˜ëŠ” Skynetì—ì„œ ì œê³µë˜ë©°, ì´ë¯¸ì§€ëŠ” ì¢…ì¢… Filecoin ë˜ëŠ” Arweaveì™€ ê°™ì€ IPFS(InterPlanetary File Systems)ì— ì €ì¥ë©ë‹ˆë‹¤.

#### ìƒ¤ë”©
ì²« ë¸”ë¡ì²´ì¸ì¸ ë¹„íŠ¸ì½”ì¸ê³¼ ì´ë”ë¦¬ì›€ì´ ì„±ì¥í•˜ê¸° ì‹œì‘í•˜ë©´ì„œ, í•œê³„ê°€ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤. ê·¸ë“¤ì€ ê°€ì§„ ë¸”ë¡/ì‹œê°„ ìŠ¤í˜ì´ìŠ¤ ë‚´ì—ì„œ íŠ¹ì • ìˆ˜ì˜ íŠ¸ëœì­ì…˜ë§Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ì²˜ë¦¬, ëŒ€ê¸° ì‹œê°„ì— ì‹¬ê°í•œ ë³‘ëª© í˜„ìƒì´ ë°œìƒí–ˆìœ¼ë©°, íŠ¸ëœì­ì…˜ ì²˜ë¦¬ì— í•„ìš”í•œ ìˆ˜ìˆ˜ë£Œë„ í¬ê²Œ ì¦ê°€í–ˆìŠµë‹ˆë‹¤.

ìƒ¤ë”©ì€ ë¸”ë¡ì²´ì¸ì„ í™•ì¥í•˜ê³  ë” ë§ì€ ì²˜ë¦¬ëŸ‰ì„ ì œê³µí•˜ëŠ” ë™ì‹œì—, ëŒ€ê¸° ì‹œê°„ì„ ì¤„ì´ê³  íŠ¸ëœì­ì…˜ ìˆ˜ìˆ˜ë£Œë¥¼ ë‚®ê²Œ ìœ ì§€í•˜ëŠ” ê¸°ìˆ  ë°œì „ì…ë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©ì´ ì¦ê°€í•¨ì— ë”°ë¼ ì¶”ê°€ ìƒ¤ë“œë¥¼ ìƒì„±í•˜ì—¬ ì´ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.

#### NEARì— ëŒ€í•´
NEAR í”„ë¡œí† ì½œì€ ìµœê³ ì˜ ì ‘ê·¼ ë°©ì‹ì„ ì—¼ë‘ì— ë‘ê³  ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì „ ë¸”ë¡ì²´ì¸ì˜ ë³‘ëª© í˜„ìƒì„ í•´ê²°í•˜ëŠ” ë™ì‹œì—, ê¸°ì¡´ Web2 ì‚¬ìš©ì ë° ê°œë°œìê°€ ë¸”ë¡ì²´ì¸ ê¸°ìˆ ì„ ë” ê´‘ë²”ìœ„í•˜ê²Œ ì±„íƒí•  ìˆ˜ ìˆë„ë¡ ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ëŠ” ë° ì¤‘ì ì„ ë‘¡ë‹ˆë‹¤. NEARëŠ” ìƒ¤ë”© ì§€ë¶„ ì¦ëª…(POS) ë¸”ë¡ì²´ì¸ì…ë‹ˆë‹¤.


#### ì£¼ìš” íŠ¹ì§•
- ìˆ˜ìƒ ê²½ë ¥ì— ë¹›ë‚˜ëŠ” íŒ€ â€“ ì„¸ê³„ ìµœê³ ì˜ í”„ë¡œê·¸ë˜ë¨¸
- ì§€ë¶„ ì¦ëª… (POS)
- ë¬´ì œí•œ ìƒ¤ë“œ
- ì‚¬ìš©ì ê²½í—˜ (UX)
- ê°œë°œì ê²½í—˜ (DX)
- Rainbow Bridgeì—ì„œ ETHë¡œ - ETHì—ì„œ ìì‚°ì„ ì—°ê²°í•©ë‹ˆë‹¤.
- Aurora â€“ ê¸°ë³¸ ì œê³µë˜ëŠ” Solidityë¡œ ê¸°ë³¸ ETH ì•± ì‹¤í–‰

#### ê¸°ìˆ  ìŠ¤íƒ
- Rust â€“ ê¸°ë³¸ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì–¸ì–´
- Assembly Script â€“ ëŒ€ì²´ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì–¸ì–´ (TypeScriptì™€ ìœ ì‚¬)
- NodeJS â€“ ë„êµ¬
- Javascript / React / Angular â€“ í”„ë¡ íŠ¸ì—”ë“œ

---

## ë ˆìŠ¨ 2 - NEAR-CLI
NEAR-CLIëŠ” RPC(ì›ê²© ì ˆì°¨ í˜¸ì¶œ)ë¥¼ í†µí•´ NEAR ë¸”ë¡ì²´ì¸ê³¼ í†µì‹ í•˜ëŠ” ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.

* NEAR CLI ì„¤ì • ë° ì„¤ì¹˜
* ë°¸ë¦¬ë°ì´í„° í†µê³„ ë³´ê¸°

> ì°¸ê³ : ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ, NEAR-CLIë¥¼ ë°¸ë¦¬ë°ì´í„° ë…¸ë“œì™€ ë‹¤ë¥¸ ì»´í“¨í„°ì— ì„¤ì¹˜í•˜ê³ , ë°¸ë¦¬ë°ì´í„° ë…¸ë“œì— ì „ì²´ ì•¡ì„¸ìŠ¤ í‚¤ë¥¼ ë³´ê´€í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

### NEAR-CLI ì„¤ì •

ë¨¼ì € Debianì´ ìµœì‹ ì¸ì§€ í™•ì¸í•©ì‹œë‹¤.

```
sudo apt update && sudo apt upgrade -y
```

#### ê°œë°œì ë„êµ¬, Node.js, ë° npm ì„¤ì¹˜
ë¨¼ì € `Node.js`ì™€ `npm` ì„¤ì¹˜ë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤.

```
curl -sL https://deb.nodesource.com/setup_17.x | sudo -E bash -  
sudo apt install build-essential nodejs
PATH="$PATH"
```

`Node.js`ì™€ `npm` ë²„ì „ì„ í™•ì¸í•©ë‹ˆë‹¤.
```
node -v
```
> v17.x.x

```
npm -v
```
> 8.x.x


#### NEAR-CLI ì„¤ì¹˜

ë‹¤ìŒì€ NEAR CLIìš© Github ë ˆí¼ì§€í† ë¦¬ì…ë‹ˆë‹¤: https://github.com/near/near-cli. NEAR-CLIë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´, ë£¨íŠ¸ë¡œ ë¡œê·¸ì¸í•˜ì§€ ì•ŠëŠ” í•œ(ê¶Œì¥ë˜ì§€ ì•ŠëŠ” í•œ), `sudo`ë¥¼ ì‚¬ìš©í•˜ì—¬ NEAR-CLIë¥¼ ì„¤ì¹˜í•˜ê³ , near ë°”ì´ë„ˆë¦¬ê°€ /usr/local/binì— ì €ì¥ë˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.

```
sudo npm install -g near-cli
```
### ë°¸ë¦¬ë°ì´í„° í†µê³„

ì´ì œ NEAR-CLIê°€ ì„¤ì¹˜ë˜ì—ˆìœ¼ë¯€ë¡œ, CLIë¥¼ í…ŒìŠ¤íŠ¸í•˜ê³ , ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë¸”ë¡ì²´ì¸ê³¼ ìƒí˜¸ ì‘ìš©í•˜ë©° ë°¸ë¦¬ë°ì´í„° í†µê³„ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°¸ë¦¬ë°ì´í„° ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì„¸ ê°€ì§€ ë³´ê³ ì„œê°€ ìˆìŠµë‹ˆë‹¤.


##### í™˜ê²½
ì˜¬ë°”ë¥¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ì„ íƒí•˜ë ¤ë©´ ìƒˆ ì…¸ì„ ì‹œì‘í•  ë•Œë§ˆë‹¤ í™˜ê²½ì„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

ë„¤íŠ¸ì›Œí¬:
- GuildNet
- TestNet
- MainNet

ëª…ë ¹:
```
export NEAR_ENV=<network> (use guildnet / testnet / mainnet)
```

##### ì œì•ˆ
ë°¸ë¦¬ë°ì´í„°ì˜ ì œì•ˆì€ ë°¸ë¦¬ë°ì´í„° ì„¸íŠ¸ì— ë“¤ì–´ê°€ê³  ì‹¶ë‹¤ëŠ” ê²ƒì„ ë‚˜íƒ€ë‚´ë©°, ì œì•ˆì´ ìˆ˜ë½ë˜ë ¤ë©´ ìµœì†Œ ì‹œíŠ¸ ê°€ê²©ì„ ì¶©ì¡±í•´ì•¼ í•©ë‹ˆë‹¤.

ëª…ë ¹:
```
near proposals
```

##### Validators Current
ì´ëŠ” í˜„ì¬ ì—í¬í¬ì˜ í™œì„± ë°¸ë¦¬ë°ì´í„° ëª©ë¡, ìƒì„±ëœ ë¸”ë¡ ìˆ˜, ì˜ˆìƒ ë¸”ë¡ ìˆ˜ ë° ì˜¨ë¼ì¸ ë¹„ìœ¨ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ëŠ” ë°¸ë¦¬ë°ì´í„°ì— ë¬¸ì œê°€ ìˆëŠ”ì§€ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

ëª…ë ¹:
```
near validators current
```

##### Validators Next
ì´ëŠ” í•œ ì—í¬í¬ ì „ì— ì œì•ˆì´ ìŠ¹ì¸ë˜ì–´ì„œ, ë‹¤ìŒ ì—í¬í¬ì— ì„¤ì •ëœ ë°¸ë¦¬ë°ì´í„°ì— ë“¤ì–´ê°ˆ ë°¸ë¦¬ë°ì´í„° ëª©ë¡ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

ëª…ë ¹:
```
near validators next
```

---

## ë ˆìŠ¨ 3 - ë°¸ë¦¬ë°ì´í„° ì„¤ì •

ì´ ë ˆìŠ¨ì—ì„œëŠ” ë‹¤ìŒì— ëŒ€í•´ ë°°ì›ë‹ˆë‹¤.

* ë…¸ë“œ ì„¤ì •
* ë©”ì¸ë„·ê³¼ í…ŒìŠ¤íŠ¸ë„·ì˜ ì°¨ì´ì 
* ë©”ì¸ë„· ìš© Nearcore ì»´íŒŒì¼
* ì œë„¤ì‹œìŠ¤ íŒŒì¼(genesis.json)
* êµ¬ì„± íŒŒì¼(config.json)


### ì„œë²„ ìš”êµ¬ ì‚¬í•­
ë¸”ë¡ ìƒì‚° ìœ íš¨ì„± ê²€ì‚¬ê¸°ì— ëŒ€í•´ì„œëŠ”, [`Validator Hardware`](/validator/hardware)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”. Chunk-Only Producer(NEAR ë‚´ í–¥í›„ì— ìƒê¸¸ ì—­í• )ëŠ” ì•„ë˜ í•˜ë“œì›¨ì–´ ìš”êµ¬ ì‚¬í•­ì„ ì°¸ê³ í•˜ì„¸ìš”.

| í•˜ë“œì›¨ì–´       | Chunk-Only Producer  ì‚¬ì–‘                                   |
| -------------- | ---------------------------------------------------------------       |
| CPU            | AVXë¥¼ ì§€ì›í•˜ëŠ” 4-Core CPU                                           |
| RAM            | 8GB DDR4                                                              |
| ìŠ¤í† ë¦¬ì§€        | 500GB SSD                                                             |


### í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜ ë° êµ¬ì„± ì„¤ì •
#### ì „ì œ ì¡°ê±´:
ì‹œì‘í•˜ê¸° ì „ì—, ì»´í“¨í„°ì— ì˜¬ë°”ë¥¸ CPU ê¸°ëŠ¥ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ í•˜ë“œì›¨ì–´ ê´€ë ¨ ì •ë³´ëŠ” [í•˜ë“œì›¨ì–´ ìš”êµ¬ ì‚¬í•­](/validator/hardware)ì„ ì°¸ê³ í•˜ì„¸ìš”.


```
lscpu | grep -P '(?=.*avx )(?=.*sse4.2 )(?=.*cx16 )(?=.*popcnt )' > /dev/null \
  && echo "Supported" \
  || echo "Not supported"
```
> ì§€ì›

ë‹¤ìŒìœ¼ë¡œ ë°ë¹„ì•ˆì´ ìµœì‹  ë²„ì „ì¸ì§€ í™•ì¸í•©ì‹œë‹¤.


```
sudo apt update && sudo apt upgrade -y
```

#### ê°œë°œì ë„êµ¬ ì„¤ì¹˜:
```
sudo apt install -y git binutils-dev libcurl4-openssl-dev zlib1g-dev libdw-dev libiberty-dev cmake gcc g++ python docker.io protobuf-compiler libssl-dev pkg-config clang llvm cargo
```
####  Python pip ì„¤ì¹˜:

```
sudo apt install python3-pip
```
#### êµ¬ì„± ì„¤ì •:

```
USER_BASE_BIN=$(python3 -m site --user-base)/bin
export PATH="$USER_BASE_BIN:$PATH"
```

#### Building env ì„¤ì¹˜
```
sudo apt install clang build-essential make
```

#### Rust & Cargo ì„¤ì¹˜
```
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

ë‹¤ìŒì´ í‘œì‹œë  ê²ƒì…ë‹ˆë‹¤.

![img](/images/rust.png)

1ì„ ëˆ„ë¥´ê³  enterë¥¼ ëˆ„ë¦…ë‹ˆë‹¤.

#### í™˜ê²½ ì†Œì‹±
```
source $HOME/.cargo/env
```

### GitHubì—ì„œ `nearcore` í”„ë¡œì íŠ¸ ë³µì œ 
ë¨¼ì € [`nearcore` ë ˆí¼ì§€í† ë¦¬](https://github.com/near/nearcore)ë¥¼ ë³µì œí•©ë‹ˆë‹¤.

```
git clone https://github.com/near/nearcore
cd nearcore
git fetch origin --tags
```

í•„ìš”í•œ ë¸Œëœì¹˜ë¡œ ì „í™˜í•˜ì„¸ìš”. í…ŒìŠ¤íŠ¸ë„·ì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²½ìš°, ìµœì‹  ë¶ˆì•ˆì • ë¦´ë¦¬ìŠ¤ë¥¼ ê¶Œì¥í•˜ê³ , ë©”ì¸ë„·ì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²½ìš° ìµœì‹  ì•ˆì • ë²„ì „ì„ ê¶Œì¥í•©ë‹ˆë‹¤. [GitHubì˜ ë¦´ë¦¬ìŠ¤ í˜ì´ì§€](https://github.com/near/nearcore/releases)ë¥¼ í™•ì¸í•˜ì„¸ìš”.

```
git checkout tags/<version> -b mynode
```

### `nearcore` ë°”ì´ë„ˆë¦¬ ì»´íŒŒì¼
`nearcore` í´ë”ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

```
make neard
```
ë°”ì´ë„ˆë¦¬ ê²½ë¡œëŠ” `target/release/neard`ì…ë‹ˆë‹¤. ë¬¸ì œê°€ ìˆëŠ” ê²½ìš°, cargo ëª…ë ¹ì´ ì—†ëŠ” ê²ƒì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `sudo apt install cargo`ë¥¼ ìˆ˜í–‰í•´ë³´ì„¸ìš”. `nearcore` ë°”ì´ë„ˆë¦¬ë¥¼ ì»´íŒŒì¼í•˜ëŠ” ë° ì•½ê°„ì˜ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì‘ì—… ë””ë ‰í† ë¦¬ ì´ˆê¸°í™”

ì œëŒ€ë¡œ ì‘ì—…í•˜ë ¤ë©´, NEAR ë…¸ë“œì— ì‘ì—… ë””ë ‰í† ë¦¬ì™€ ëª‡ ê°€ì§€ êµ¬ì„± íŒŒì¼ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ìŒì„ ì‹¤í–‰í•˜ì—¬ ì´ˆê¸° í•„ìˆ˜ ì‘ì—… ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤.

```
./target/release/neard --home ~/.near init --chain-id <network> --download-genesis
```

![img](/images/initialize.png)

ì´ ëª…ë ¹ì€ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ ìƒì„±í•˜ê³ , ì „ë‹¬í•œ ë„¤íŠ¸ì›Œí¬ì—ì„œ `config.json`, `node_key.json`, ê·¸ë¦¬ê³  `genesis.json`ì„ ìƒì„±í•©ë‹ˆë‹¤. `testnet`ì— ëŒ€í•œ ì œë„¤ì‹œìŠ¤ íŒŒì¼ì´ í¬ê¸° ë•Œë¬¸ì—(6GB ì´ìƒ), ì´ ëª…ë ¹ì´ ì‹¤í–‰ë˜ê³  í•œë™ì•ˆ ì§„í–‰ë¥ ì´ í‘œì‹œë˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.

- `config.json` - ë…¸ë“œê°€ ì‘ë™í•˜ëŠ” ë°©ì‹ì— ì‘ë‹µí•˜ëŠ” êµ¬ì„± ë§¤ê°œë³€ìˆ˜ì…ë‹ˆë‹¤. config.jsonì—ëŠ” ë…¸ë“œê°€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì‹¤í–‰ë˜ëŠ” ë° í•„ìš”í•œ ì •ë³´, í”¼ì–´ì™€ í†µì‹ í•˜ëŠ” ë°©ë²• ë° í•©ì˜ì— ë„ë‹¬í•˜ëŠ” ë°©ë²•ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì¼ë¶€ ì˜µì…˜ì€ êµ¬ì„± ê°€ëŠ¥í•˜ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ ë°¸ë¦¬ë°ì´í„°ëŠ” ì œê³µëœ ê¸°ë³¸ config.jsonì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì„ íƒí•©ë‹ˆë‹¤.
- `genesis.json` - ì œë„¤ì‹œìŠ¤ì—ì„œ ë„¤íŠ¸ì›Œí¬ê°€ ì‹œì‘ëœ ëª¨ë“  ë°ì´í„°ê°€ í¬í•¨ëœ íŒŒì¼ì…ë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” ì´ˆê¸° ê³„ì •, ì»¨íŠ¸ë™íŠ¸, ì•¡ì„¸ìŠ¤ í‚¤ ë° ë¸”ë¡ì²´ì¸ì˜ ì´ˆê¸° ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê¸°íƒ€ ê¸°ë¡ì´ í¬í•¨ë©ë‹ˆë‹¤. genesis.json íŒŒì¼ì€ íŠ¹ì • ì‹œì ì˜ ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ëŒ€í•œ ìŠ¤ëƒ…ìƒ·ì…ë‹ˆë‹¤. ì»¨íŠ¸ë™íŠ¸ ê³„ì •, ì”ì•¡, í™œì„± ë°¸ë¦¬ë°ì´í„° ë° ë„¤íŠ¸ì›Œí¬ì— ëŒ€í•œ ê¸°íƒ€ ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤. ë©”ì¸ë„·ì—ì„œ, ì´ëŠ” ì¶œì‹œ ë‹¹ì‹œì˜ ë„¤íŠ¸ì›Œí¬ ìƒíƒœë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ë„·ì´ë‚˜ ê¸¸ë“œë„·ì—ì„œëŠ” ë„¤íŠ¸ì›Œí¬ê°€ í•œ ì§€ì ì—ì„œ í•˜ë“œí¬í¬ëœ ê²½ìš°, ë” ì¤‘ê°„ ìƒíƒœë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `node_key.json` -  ë…¸ë“œì˜ ê³µê°œ ë° ê°œì¸ í‚¤ê°€ í¬í•¨ëœ íŒŒì¼ì…ë‹ˆë‹¤. ë˜í•œ ë°¸ë¦¬ë°ì´í„° ë…¸ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ë° í•„ìš”í•œ ì„ íƒì ì¸ `account_id` ë§¤ê°œë³€ìˆ˜ë¥¼ í¬í•¨í•©ë‹ˆë‹¤(ì´ ë¬¸ì„œì—ì„œ ë‹¤ë£¨ì§€ ì•ŠìŒ).
- `data/` -  NEAR ë…¸ë“œê°€ ìì‹ ì˜ ìƒíƒœë¥¼ ê¸°ë¡í•  í´ë”ì…ë‹ˆë‹¤.

### `config.json` êµì²´

ìƒì„±ëœ `config.json`ì—ì„œ, ìˆ˜ì •í•  ë‘ ë§¤ê°œë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.
- `boot_nodes`: 3ë‹¨ê³„ì—ì„œ ì´ˆê¸°í™”í•˜ëŠ” ë™ì•ˆ ì‚¬ìš©í•  ë¶€íŒ… ë…¸ë“œë¥¼ ì§€ì •í•˜ì§€ ì•Šì€ ê²½ìš°, ìƒì„±ëœ `config.json`ì— ë¹ˆ ë°°ì—´ì´ í‘œì‹œë˜ë¯€ë¡œ, ì´ë¥¼ ë¶€íŒ… ë…¸ë“œë¥¼ ì§€ì •í•˜ëŠ” ì „ì²´ ë°°ì—´ë¡œ êµì²´í•´ì•¼ í•©ë‹ˆë‹¤
- `tracked_shards`: ìƒì„±ëœ `config.json`ì—ì„œ, ì´ í•„ë“œëŠ” ë¹„ì–´ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ `"tracked_shards": [0]`ìœ¼ë¡œ êµì²´í•´ì•¼ í•©ë‹ˆë‹¤.

```
rm ~/.near/config.json
wget -O ~/.near/config.json https://s3-us-west-1.amazonaws.com/build.nearprotocol.com/nearcore-deploy/<network>/config.json
```

### ë°ì´í„° ë°±ì—… ê°€ì ¸ì˜¤ê¸°

ë…¸ë“œë¥¼ ì‹œì‘í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜, ë¨¼ì € ë„¤íŠ¸ì›Œí¬ì™€ ë™ê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤. ì¦‰, ë…¸ë“œëŠ” ë„¤íŠ¸ì›Œí¬ì˜ ë‹¤ë¥¸ ë…¸ë“œê°€ ì´ë¯¸ ê°€ì§€ê³  ìˆëŠ” ëª¨ë“  í—¤ë”ì™€ ë¸”ë¡ì„ ë‹¤ìš´ë¡œë“œí•´ì•¼ í•©ë‹ˆë‹¤.

ë¨¼ì € AWS CLIë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”.
```
sudo apt-get install awscli -y
```

ê·¸ëŸ° ë‹¤ìŒ AWS CLIë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤ëƒ…ìƒ·ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.
```
aws s3 --no-sign-request cp s3://near-protocol-public/backups/<testnet|mainnet>/rpc/latest .
LATEST=$(cat latest)
aws s3 --no-sign-request cp --no-sign-request --recursive s3://near-protocol-public/backups/<testnet|mainnet>/rpc/$LATEST ~/.near/data
```


NOTE: .tar íŒŒì¼ì€ ì•½ 147GB(ì¦ê°€í•  ê²ƒì„)ì´ë¯€ë¡œ, ë°ì´í„° í´ë” ë‚´ë¶€ì— ì••ì¶•ì„ í’€ ë””ìŠ¤í¬ ê³µê°„ì´ ì¶©ë¶„í•œì§€ í™•ì¸í•˜ì„¸ìš”.

### ë…¸ë“œ ì‹¤í–‰
ë…¸ë“œë¥¼ ì‹œì‘í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.

```
cd nearcore
./target/release/neard --home ~/.near run
```

![img](/images/download.png)
ì´ì œ ë…¸ë“œê°€ ì‹¤í–‰ ì¤‘ì´ë©° ì½˜ì†”ì—ì„œ ë¡œê·¸ ì¶œë ¥ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë…¸ë“œëŠ” í”¼ì–´ë¥¼ ì°¾ê³  í—¤ë”ë¥¼ 100%ë¡œ ë‹¤ìš´ë¡œë“œí•œ ë‹¤ìŒ ë¸”ë¡ì„ ë‹¤ìš´ë¡œë“œí•´ì•¼ í•©ë‹ˆë‹¤.

----


#### NearUp ì‚¬ìš©

Mainnet ë° Testnetì—ì„œ neardë¥¼ ì‚¬ìš©í•˜ì—¬ ë…¸ë“œë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Guildnetì—ì„œëŠ” NearUpì„ ì‚¬ìš©í•˜ì—¬ ë…¸ë“œë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ NearUpì€ Mainnet ë˜ëŠ” Testnetì— ëŒ€í•´ ê¶Œì¥ë˜ê±°ë‚˜ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¦‰, Guildnet, Testnet ë° Mainnetì—ì„œ neardë¥¼ ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ NearUp ì‚¬ìš©ì„ ì„ íƒí•œ ê²½ìš°, NearUpì€ ì‹œì‘ ë° ì‹¤í–‰ì— í•„ìš”í•œ ë°”ì´ë„ˆë¦¬ì™€ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤. ì‹¤í–‰í•  ë„¤íŠ¸ì›Œí¬ì™€ ìŠ¤í…Œì´í‚¹ í’€ IDë§Œ ì œê³µí•˜ë©´ ë©ë‹ˆë‹¤.


* NearUp ì„¤ì¹˜:

```
pip3 install --user nearup
```
* ìµœì‹  NearUp ë²„ì „ ì„¤ì¹˜:

```
pip3 install --user --upgrade nearup
```


####  ì§€ê°‘ ìƒì„±
- MainNet: https://wallet.near.org/
- TestNet: https://wallet.testnet.near.org/
- GuildNet: `https://wallet.openshards.io/`

#### ë¡œì»¬ì—ì„œ ì§€ê°‘ ìŠ¹ì¸
NEAR-CLIë¥¼ í†µí•´ íŠ¸ëœì­ì…˜ì„ ìˆ˜í–‰í•˜ë ¤ë©´ ì „ì²´ ì•¡ì„¸ìŠ¤ í‚¤ë¥¼ ë¡œì»¬ì— ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.

Guildnetì˜ ê²½ìš°
```
export NEAR_ENV=testnet
```

* ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

```
near login
```

>ì°¸ê³ : ì´ ëª…ë ¹ì€ ë¡œì»¬ë¡œ ë³µì‚¬í•  ì „ì²´ ì•¡ì„¸ìŠ¤ í‚¤ì˜ ì¸ì¦ì„ í—ˆìš©í•˜ëŠ” ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.


1 â€“ ë¸Œë¼ìš°ì €ì—ì„œ ë§í¬ë¥¼ ë³µì‚¬í•©ë‹ˆë‹¤.


![img](/images/1.png)

2 â€“  Near CLIì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤.

![img](/images/3.png)

3 â€“ ê¶Œí•œ ë¶€ì—¬ í›„ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í˜ì´ì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤. ì½˜ì†”ë¡œ ëŒì•„ê°€ì„¸ìš”.

![img](/images/4.png)

4 â€“ ì§€ê°‘ì„ ì…ë ¥í•˜ê³  Enter í‚¤ë¥¼ ëˆ„ë¦…ë‹ˆë‹¤.

![img](/images/5.png)


Guildnetì˜ ê²½ìš°

* ìµœì‹  ì œë„¤ì‹œìŠ¤ ë° êµ¬ì„± íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.

```
cd ~/.near/guildnet
wget -c https://s3.us-east-2.amazonaws.com/build.openshards.io/nearcore-deploy/guildnet/config.json
wget -c https://s3.us-east-2.amazonaws.com/build.openshards.io/nearcore-deploy/guildnet/genesis.json
```
* ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ Near guildnet í™˜ê²½ì„ ì„¤ì •í•©ë‹ˆë‹¤.


```
export NEAR_ENV=guildnet
```
ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ Near guildnet í™˜ê²½ì„ ì˜êµ¬ì ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
```
echo 'export NEAR_ENV=guildnet' >> ~/.bashrc
```

* ì‹¤í–‰ ëª…ë ¹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```
nearup run $NEAR_ENV --account-id <staking pool id>
```
ì—¬ê¸°ì„œ AccountIdëŠ” xx.stake.guildnet, xxëŠ” í’€ ì´ë¦„(ì˜ˆ: bootcamp.stake.guildnet)ì…ë‹ˆë‹¤.


Testnetì˜ ê²½ìš°

* ìµœì‹  ì œë„¤ì‹œìŠ¤ êµ¬ì„± íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.

```
cd ~/.near/testnet
wget -c https://s3-us-west-1.amazonaws.com/build.nearprotocol.com/nearcore-deploy/testnet/config.json
wget -c https://s3-us-west-1.amazonaws.com/build.nearprotocol.com/nearcore-deploy/testnet/genesis.json
```

* ìµœì‹  ìŠ¤ëƒ…ìƒ·ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.

```
mkdir ~/.near/testnet/data
cd ~/.near/testnet
wget -c https://near-protocol-public.s3.amazonaws.com/backups/testnet/rpc/data.tar -O - | tar -xf -
```

* ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ Near Testnet í™˜ê²½ì„ ì„¤ì •í•©ë‹ˆë‹¤.

```
export NEAR_ENV=testnet
```
* ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ Near í…ŒìŠ¤íŠ¸ë„· í™˜ê²½ì„ ì˜êµ¬ì ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```
echo 'export NEAR_ENV=testnet' >> ~/.bashrc
```
* ì‹¤í–‰ ëª…ë ¹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```
nearup run $NEAR_ENV --account-id <staking pool id>
```
ì—¬ê¸°ì„œ AccountIdëŠ” xx.pool.f863973.m0ì´ê³  xxëŠ” í’€ ì´ë¦„(ì˜ˆ: bootcamp.pool.f863973.m0)ì…ë‹ˆë‹¤.

ì²˜ìŒ ì‹¤í–‰í•˜ë©´ NEARUpì´ ìŠ¤í…Œì´í‚¹ í’€ IDë¥¼ ì…ë ¥í•˜ë„ë¡ ìš”ì²­í•˜ê³ , ì´ì „ì— {pool id}.{staking pool factory} í˜•ì‹ìœ¼ë¡œ ì„¤ì •ëœ ìŠ¤í…Œì´í‚¹ í’€ IDë¥¼ ì œê³µí•©ë‹ˆë‹¤.


> **ì°¸ê³ : ì´ëŠ” ë‹­ê³¼ ë‹¬ê±€ê³¼ì˜ ê´€ê³„ì™€ë„ ê°™ìŠµë‹ˆë‹¤.
> ìŠ¤í…Œì´í‚¹ í’€ì„ ìƒì„±í•˜ì§„ ì•Šì•˜ì§€ë§Œ, ì´ë¦„ì„ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.**

####  validator_key.json í™•ì¸
* ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

Guildnetì˜ ê²½ìš°
```
cat ~/.near/guildnet/validator_key.json
```

Testnetì˜ ê²½ìš°
```
cat ~/.near/testnet/validator_key.json
```


> ì°¸ê³ : validator_key.jsonì´ ì—†ìœ¼ë©´ ë‹¤ìŒ ë‹¨ê³„ì— ë”°ë¼ ìƒˆë¡œ ë§Œë“œì„¸ìš”.

Guildnetìš© validator_key.jsonì„ ìƒì„±í•©ë‹ˆë‹¤.

*   í‚¤ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.

```
near generate-key <pool_id>
```
* ìƒì„±ëœ íŒŒì¼ì„ Guildnet í´ë”ì— ë³µì‚¬í•©ë‹ˆë‹¤.

YOUR_WALLETì„ accountIdë¡œ ë°”ê¿‰ë‹ˆë‹¤.
```
cp ~/.near-credentials/guildnet/<YOUR_WALLET>.json ~/.near/guildnet/validator_key.json
```
* â€œaccount_idâ€ => `xx.stake.guildnet`ìœ¼ë¡œ í¸ì§‘í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ xxëŠ” PoolNameì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

* `private_key`ë¥¼ `secret_key`ë¡œ ë³€ê²½

> ì°¸ê³ : account_idëŠ” ìŠ¤í…Œì´í‚¹ í’€ ì»¨íŠ¸ë™íŠ¸ ì´ë¦„ê³¼ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë¸”ë¡ì— ì„œëª…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

íŒŒì¼ ì»¨í…ì¸ ëŠ” ë‹¤ìŒê³¼ ê°™ì€ íŒ¨í„´ì´ì–´ì•¼ í•©ë‹ˆë‹¤.
```
{
  "account_id": "xx.stake.guildnet",
  "public_key": "ed25519:HeaBJ3xLgvZacQWmEctTeUqyfSU4SDEnEwckWxd92W2G",
  "secret_key": "ed25519:****"
}
```

Testnetìš© `validator_key.json` ë§Œë“¤ê¸°

*   í‚¤ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.

```
near generate-key <pool_id>
```
* Testnet í´ë”ì— ìƒì„±ëœ íŒŒì¼ì„ ë³µì‚¬í•©ë‹ˆë‹¤. YOUR_WALLETì„ accountIdë¡œ êµì²´í•´ì•¼ í•©ë‹ˆë‹¤.

```
cp ~/.near-credentials/testnet/YOUR_WALLET.json ~/.near/testnet/validator_key.json
```
* â€œaccount_idâ€ => xx.pool.f863973.m0ìœ¼ë¡œ í¸ì§‘í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ xxëŠ” PoolNameì…ë‹ˆë‹¤.
* `private_key`ë¥¼ `secret_key`ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.

> ì°¸ê³ : account_idëŠ” ìŠ¤í…Œì´í‚¹ í’€ ì»¨íŠ¸ë™íŠ¸ ì´ë¦„ê³¼ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë¸”ë¡ì— ì„œëª…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

íŒŒì¼ ì»¨í…ì¸ ëŠ” ë‹¤ìŒê³¼ ê°™ì€ íŒ¨í„´ì´ì–´ì•¼ í•©ë‹ˆë‹¤.
```
{
  "account_id": "xx.stake.guildnet",
  "public_key": "ed25519:HeaBJ3xLgvZacQWmEctTeUqyfSU4SDEnEwckWxd92W2G",
  "secret_key": "ed25519:****"
}
```


#### 8ë‹¨ê³„ â€“ ëª¨ë“  íŒŒì¼ì´ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸

Guildnet ëª…ë ¹
```
ls ~/.near/guildnet
```

Testnet ëª…ë ¹
```
ls ~/.near/testnet
```


ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤: **validator_key.json  node_key.json  config.json  data  genesis.json**

# NEARCoreë¥¼ ì‚¬ìš©í•œ ë°±ì—… (MainNet)
ë©”ì¸ë„·ì— ê¶Œì¥ë¨
#### 1ë‹¨ê³„ â€“ í•„ìš”í•œ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜ ë° êµ¬ì„±

* ì‹œì‘í•˜ê¸° ì „ì— ì‹œìŠ¤í…œì´ ìµœì‹  ìƒíƒœì¸ì§€ í™•ì¸í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
sudo apt update && sudo apt upgrade -y
```
* Python ì„¤ì¹˜
```
sudo apt install python3 git curl
```
* Building env ì„¤ì¹˜
```
sudo apt install clang build-essential make
```
* Rust & Cargo ì„¤ì¹˜
```
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```
1ì„ ëˆ„ë¥´ê³  enterë¥¼ ëˆ„ë¦…ë‹ˆë‹¤.
![img](/images/rust.png)

* í™˜ê²½ ì†Œì‹±
```
source $HOME/.cargo/env
```
* NEARCore ë ˆí¼ì§€í† ë¦¬ ë³µì œ
```
git clone https://github.com/nearprotocol/nearcore.git
```
* í™˜ê²½ì„ ìµœì‹  ë¦´ë¦¬ìŠ¤ íƒœê·¸ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ìµœì‹  ë¦´ë¦¬ìŠ¤ íƒœê·¸ëŠ” https://github.com/near/nearcore/releasesì—ì„œ í™•ì¸í•˜ì„¸ìš”. ì°¸ê³ : RC íƒœê·¸ëŠ” í…ŒìŠ¤íŠ¸ë„· ì „ìš©ì…ë‹ˆë‹¤.
```
export NEAR_RELEASE_VERSION=1.26.1
```
```
cd nearcore
git checkout $NEAR_RELEASE_VERSION
make release
```
* Nodejs ë° NPM ì„¤ì¹˜
```
curl -sL https://deb.nodesource.com/setup_17.x | sudo -E bash -
sudo apt install build-essential nodejs
PATH="$PATH"
```
* Near CLI ì„¤ì¹˜

NodeJs ë° NPMì´ ì„¤ì¹˜ë˜ë©´ ì´ì œ NEAR-Clië¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë£¨íŠ¸ë¡œ ë¡œê·¸ì¸í•˜ì§€ ì•ŠëŠ” í•œ(ê¶Œì¥í•˜ì§€ ì•ŠìŒ), NEAR-Clië¥¼ ì„¤ì¹˜í•˜ëŠ” ë° `sudo`ë¥¼ ì‚¬ìš©í•˜ì—¬ /usr/local/binì— near binary ë°”ì´ë„ˆë¦¬ê°€ ì„¤ì¹˜ë˜ë„ë¡ í•©ë‹ˆë‹¤.
```
sudo npm install -g near-cli
```
* ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ Near Mainnet í™˜ê²½ì„ ì„¤ì •í•©ë‹ˆë‹¤.
```
export NEAR_ENV=mainnet
```
* ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ Near Testnet í™˜ê²½ì„ ì˜êµ¬ì ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
```
echo 'export NEAR_ENV=mainnet' >> ~/.bashrc
```
#### 2ë‹¨ê³„ â€“ ì§€ê°‘ ìƒì„±
MainNet: https://wallet.near.org/

#### 3ë‹¨ê³„ â€“ ë¡œì»¬ì—ì„œ ì§€ê°‘ ì¸ì¦
NEAR-Clië¥¼ í†µí•´ íŠ¸ëœì­ì…˜ì„ ìˆ˜í–‰í•˜ë ¤ë©´, ì „ì²´ ì•¡ì„¸ìŠ¤ í‚¤ë¥¼ ë¡œì»¬ì— ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.

* ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.
```
near login
```
> ì°¸ê³ : ì´ ëª…ë ¹ì€ ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì‹œì‘í•˜ì—¬ ë¡œì»¬ë¡œ ë³µì‚¬í•  ì „ì²´ ì•¡ì„¸ìŠ¤ í‚¤ì˜ ì¸ì¦ì„ í—ˆìš©í•©ë‹ˆë‹¤.

1 â€“ ë¸Œë¼ìš°ì €ì—ì„œ ë§í¬ë¥¼ ë³µì‚¬í•©ë‹ˆë‹¤.

![img](/images/1.png)

2 â€“ Near CLIì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤.

![img](/images/3.png)

3 â€“ ê¶Œí•œ ë¶€ì—¬ í›„ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í˜ì´ì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤. ì½˜ì†”ë¡œ ëŒì•„ê°€ì„¸ìš”.

![img](/images/4.png)

4 â€“ ì§€ê°‘ì„ ì…ë ¥í•˜ê³  Enter í‚¤ë¥¼ ëˆ„ë¦…ë‹ˆë‹¤.

![img](/images/5.png)

#### 4ë‹¨ê³„ â€“ ë…¸ë“œ ì´ˆê¸°í™” ë° ì‹œì‘
* ìµœì‹  ì œë„¤ì‹œìŠ¤ êµ¬ì„± íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.
```
mkdir ~/.near
cd ~/.near
wget -c https://s3-us-west-1.amazonaws.com/build.nearprotocol.com/nearcore-deploy/mainnet/genesis.json
wget -c https://s3-us-west-1.amazonaws.com/build.nearprotocol.com/nearcore-deploy/mainnet/config.json
```
* [ìŠ¤ëƒ…ìƒ· í˜ì´ì§€](/intro/node-data-snapshots)ì—ì„œ ìµœì‹  ìŠ¤ëƒ…ìƒ·ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.

* NEARë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
```
target/release/neard init --chain-id="mainnet" --account-id=<staking pool id>
```
##### Create `validator_key.json`
* í‚¤ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.
```
near generate-key <pool_id>
```
* Mainnet í´ë”ì— ìƒì„±ëœ íŒŒì¼ì„ ë³µì‚¬í•©ë‹ˆë‹¤. YOUR_WALLETì„ ë‹¹ì‹ ì˜ accountIdë¡œ ë°”ê¿”ì•¼ í•©ë‹ˆë‹¤.
```
cp ~/.near-credentials/YOUR_WALLET.json ~/.near/mainnet/validator_key.json
```
* "account_id" => xx.poolv1.nearë¥¼ í¸ì§‘í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ xxëŠ” PoolNameì…ë‹ˆë‹¤.
* "private_key"ë¥¼ "secret_key"ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.
> ì°¸ê³ :  account_idëŠ” ìŠ¤í…Œì´í‚¹ í’€ ì»¨íŠ¸ë™íŠ¸ ì´ë¦„ê³¼ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë¸”ë¡ì— ì„œëª…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. 
> íŒŒì¼ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤.
> {
>   "account_id": "xx.poolv1.near",
>   "public_key": "ed25519:HeaBJ3xLgvZacQWmEctTeUqyfSU4SDEnEwckWxd92W2G",
>   "secret_key": "ed25519:****"
> }
```
near generate-key <your_accountId>
vi ~/.near/{your_accountId}.json
```
"private_key"ë¥¼ "secret_key"ë¡œ ì´ë¦„ì„ ë°”ê¾¼ ë‹¤ìŒ íŒŒì¼ì„ ~/.nearë¡œ ì´ë™í•©ë‹ˆë‹¤.

```
mv the file to ~/.near
```
"account_id"ë¥¼ staking_pool_idë¡œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

> ì°¸ê³ :  account_idëŠ” ìŠ¤í…Œì´í‚¹ í’€ ì»¨íŠ¸ë™íŠ¸ ì´ë¦„ê³¼ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë¸”ë¡ì— ì„œëª…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. 

* ë…¸ë“œë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.
```
target/release/neard run
```
* Systemd ëª…ë ¹ì„ ì„¤ì •í•©ë‹ˆë‹¤.

```
sudo vi /etc/systemd/system/neard.service
```
ë‹¤ìŒì„ ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤.

```[Unit]
Description=NEARd Daemon Service

[Service]
Type=simple
User=<USER>
#Group=near
WorkingDirectory=/home/<USER>/.near
ExecStart=/home/<USER>/nearcore/target/release/neard run
StandardOutput=file:/home/<USER>/.near/neard.log
StandardError=file:/home/<USER>/.near/nearderror.log
Restart=on-failure
RestartSec=30
KillSignal=SIGINT
TimeoutStopSec=45
KillMode=mixed

[Install]
WantedBy=multi-user.target
```

> ì°¸ê³ : USERë¥¼ ë‹¹ì‹ ì˜ ê²½ë¡œë¡œ ë³€ê²½í•˜ì„¸ìš”.

ëª…ë ¹:

```
sudo systemctl enable neard
```
ëª…ë ¹:

```
sudo systemctl start neard
```
íŒŒì¼ì˜ ì˜¤ë¥˜ë¡œ ì¸í•´ ì„œë¹„ìŠ¤ì˜ ë³€ê²½ì´ í•„ìš”í•œ ê²½ìš°. ë‹¤ì‹œ ë¡œë“œí•´ì•¼ í•©ë‹ˆë‹¤.

```
sudo systemctl reload neard
```
##### ë¡œê·¸ ê°ì‹œ
ëª…ë ¹:

```
journalctl -n 100 -f -u neard
```
ë¡œê·¸ë¥¼ ê¹”ë”í•˜ê²Œ ì¶œë ¥í•´ ë³´ì„¸ìš”. 

ëª…ë ¹:

```
sudo apt install ccze
```
ë¡œê·¸ì— ìƒ‰ìƒì„ ë„£ìŠµë‹ˆë‹¤.

ëª…ë ¹:

```
journalctl -n 100 -f -u neard | ccze -A
```
### ë°¸ë¦¬ë°ì´í„° ë˜ê¸°
ë°¸ë¦¬ë°ì´í„°ê°€ ë˜ì–´ ë°¸ë¦¬ë°ì´í„° ì§‘í•©ì— ë“¤ì–´ê°€ê¸° ìœ„í•´ì„œëŠ”, ìµœì†Œí•œì˜ ì„±ê³µ ê¸°ì¤€ë“¤ì´ ì¶©ì¡±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

* ë…¸ë“œê°€ ì™„ì „íˆ ë™ê¸°í™”ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
* `validator_key.json`ê°€ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
* ì»¨íŠ¸ë™íŠ¸ëŠ” `validator_key.json` ë‚´ ê³µê°œ í‚¤ë¡œ ì´ˆê¸°í™”ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
* account_idëŠ” ìŠ¤í…Œì´í‚¹ í’€ ì»¨íŠ¸ë™íŠ¸ IDë¡œ ì„¤ì •ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
* ìµœì†Œ ì‹œíŠ¸ ê°€ê²©ì„ ì¶©ì¡±í•  ìˆ˜ ìˆëŠ” ì¶©ë¶„í•œ ìœ„ì„ëŸ‰ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. [ì—¬ê¸°](https://explorer.testnet.near.org/nodes/validators)ì—ì„œ ì‹œíŠ¸ ê°€ê²©ì„ í™•ì¸í•˜ì„¸ìš”.
* ì»¨íŠ¸ë™íŠ¸ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì œì•ˆì„œë¥¼ ì œì¶œí•´ì•¼ í•©ë‹ˆë‹¤.
* ì œì•ˆì´ ìˆ˜ë½ë˜ë©´, ë°¸ë¦¬ë°ì´í„°ëŠ” ë°¸ë¦¬ë°ì´í„° ì§‘í•©ì— ë“¤ì–´ê°€ê¸° ìœ„í•´ 2-3 ì—í¬í¬ë¥¼ ê¸°ë‹¤ë ¤ì•¼ í•©ë‹ˆë‹¤.
* ë°¸ë¦¬ë°ì´í„° ì§‘í•©ì— ë“¤ì–´ê°€ë©´, ë°¸ë¦¬ë°ì´í„°ëŠ” í• ë‹¹ëœ ë¸”ë¡ì˜ 90% ì´ìƒì„ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.

ë°¸ë¦¬ë°ì´í„° ë…¸ë“œì˜ ì‹¤í–‰ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”. "Validator"ê°€ í‘œì‹œë˜ë©´ í˜„ì¬ ë°¸ë¦¬ë°ì´í„° ëª©ë¡ì—ì„œ í’€ì´ ì„ íƒëœ ê²ƒì…ë‹ˆë‹¤.


### í’€ ì •ë³´ ì œì¶œ (Mainnet ì „ìš©)
í’€ ì •ë³´ë¥¼ ì¶”ê°€í•˜ë©´ ìœ„ì„ìì—ê²Œ ë„ì›€ì´ ë˜ë©°, ì—…ê·¸ë ˆì´ë“œ ë° ê¸°íƒ€ ì¤‘ìš”í•œ ë°œí‘œì— ëŒ€í•œ í™ë³´ì—ë„ ë„ì›€ì´ ë©ë‹ˆë‹¤: https://github.com/zavodil/near-pool-details. ì¶”ê°€í•  ìˆ˜ ìˆëŠ” í•„ë“œëŠ” https://github.com/zavodil/near-pool-details/blob/master/FIELDS.mdì— ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤.

ë°¸ë¦¬ë°ì´í„°ì—ê²Œ ì œê³µí•˜ë„ë¡ ìš”ì²­í•˜ëŠ” ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- ì´ë¦„
- ì„¤ëª…
- URL
- êµ­ê°€ ë° êµ­ê°€ ì½”ë“œ
- ì´ë©”ì¼ (ì§€ì›ìš©)
- Telegram, Discord, ë˜ëŠ” Twitter

ëª…ë ¹:

```
near call name.near update_field '{"pool_id": "<pool_id>.poolv1.near", "name": "url", "value": "https://yoururl.com"}' --accountId=<accountId>.near  --gas=200000000000000
```
```
near call name.near update_field '{"pool_id": "<pool_id>.poolv1.near", "name": "twitter", "value": "<twitter>"}' --accountId=<account id>.near  --gas=200000000000000
```
```
near view name.near get_all_fields '{"from_index": 0, "limit": 3}'
```
```
near view name.near get_fields_by_pool '{"pool_id": "<pool_id>.poolv1.near"}'
```
---

## ë ˆìŠ¨ 4 - ìŠ¤í…Œì´í‚¹ í’€
NEARëŠ” í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ìŠ¤í…Œì´í‚¹ ì»¨íŠ¸ë™íŠ¸ê°€ ìˆëŠ” ìŠ¤í…Œì´í‚¹ í’€ íŒ©í† ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬, ìœ„ì„ìì˜ ìê¸ˆì´ ì•ˆì „í•œì§€ í™•ì¸í•©ë‹ˆë‹¤. NEARì—ì„œ ë°¸ë¦¬ë°ì´í„°ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´, ìŠ¤í…Œì´í‚¹ í’€ì„ NEAR ê³„ì •ì— ë°°í¬í•˜ê³  NEAR ë°¸ë¦¬ë°ì´í„° ë…¸ë“œì— í†µí•©í•´ì•¼ í•©ë‹ˆë‹¤. ìœ„ì„ìëŠ” UI ë˜ëŠ” ëª…ë ¹ì¤„ì„ ì‚¬ìš©í•˜ì—¬ í’€ì— ìŠ¤í…Œì´í‚¹í•´ì•¼ í•©ë‹ˆë‹¤. ìŠ¤í…Œì´í‚¹ í’€ì€ NEAR ê³„ì •ì— ë°°í¬ë˜ëŠ” ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì…ë‹ˆë‹¤.

### ìŠ¤í…Œì´í‚¹ í’€ ì»¨íŠ¸ë™íŠ¸ ë°°í¬
#### ìŠ¤í…Œì´í‚¹ í’€ ë°°í¬
ìŠ¤í…Œì´í‚¹ í’€ íŒ©í† ë¦¬ë¥¼ í˜¸ì¶œí•˜ê³ , ì§€ì •ëœ ì´ë¦„ìœ¼ë¡œ ìƒˆ ìŠ¤í…Œì´í‚¹ í’€ì„ ìƒì„±í•˜ì—¬ í‘œì‹œëœ accountIdì— ë°°í¬í•©ë‹ˆë‹¤.

Guildnetì˜ ê²½ìš°
```
near call stake.guildnet create_staking_pool '{"staking_pool_id": "<pool id>", "owner_id": "<accountId>", "stake_public_key": "<public key>", "reward_fee_fraction": {"numerator": 5, "denominator": 100}}' --accountId="<accountId>" --amount=30 --gas=300000000000000
```

Testnetì˜ ê²½ìš°
```
near call pool.f863973.m0 create_staking_pool '{"staking_pool_id": "<pool id>", "owner_id": "<accountId>", "stake_public_key": "<public key>", "reward_fee_fraction": {"numerator": 5, "denominator": 100}}' --accountId="<accountId>" --amount=30 --gas=300000000000000
```

Mainnetì˜ ê²½ìš°
```
near call poolv1.near create_staking_pool '{"staking_pool_id": "<pool id>", "owner_id": "<accountId>", "stake_public_key": "<public key>", "reward_fee_fraction": {"numerator": 5, "denominator": 100}}' --accountId="<accountId>" --amount=30 --gas=300000000000000
```

ìœ„ì˜ ì˜ˆì—ì„œ ë‹¤ìŒì„ êµì²´í•´ì•¼ í•©ë‹ˆë‹¤.

* **í’€ ID**: ìŠ¤í…Œì´í‚¹ í’€ ì´ë¦„ì…ë‹ˆë‹¤. íŒ©í† ë¦¬ëŠ” ìë™ìœ¼ë¡œ ì´ ë§¤ê°œ ë³€ìˆ˜ì— ì´ë¦„ì„ ì¶”ê°€í•˜ì—¬ {pool_id}.{staking_pool_factory}ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.   

- `nearkat.stake.guildnet` (guildnet)
- `nearkat.pool.f863973.m0` (testnet)
- `nearkat.poolv1.near` (mainnet)

* **Owner ID**: ìŠ¤í…Œì´í‚¹ í’€ì„ ê´€ë¦¬í•  NEAR ê³„ì •ì…ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ê¸°ë³¸ NEAR ê³„ì •ì…ë‹ˆë‹¤.
* **Public Key**: **validator_key.json** íŒŒì¼ì˜ ê³µê°œ í‚¤ì…ë‹ˆë‹¤ .
* **5**: í’€ì´ ë¶€ê³¼í•  ìˆ˜ìˆ˜ë£Œ(ì˜ˆ: ì´ ê²½ìš° 5/100ëŠ” 5%ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì˜ë¯¸)ì…ë‹ˆë‹¤.
* **Account Id**:  ìŠ¤í…Œì´í‚¹ í’€ì„ ë°°í¬í•˜ëŠ” NEAR ê³„ì •ì…ë‹ˆë‹¤.

> ìµœì†Œ 30ê°œì˜ NEARë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” ìŠ¤í† ë¦¬ì§€ì— í•„ìš”í•œ ìµœì†Œê°’ì…ë‹ˆë‹¤.

í’€ ë§¤ê°œë³€ìˆ˜ë¥¼ ë³€ê²½í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì„¸ìš”. ì•„ë˜ ì˜ˆì—ì„œëŠ” ì²­êµ¬ë˜ëŠ” ì»¤ë¯¸ì…˜ ê¸ˆì•¡ì„ 1%ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.

```
near call <pool_name> update_reward_fee_fraction '{"reward_fee_fraction": {"numerator": 1, "denominator": 100}}' --accountId <account_id> --gas=300000000000000
```


ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì´ í‘œì‹œë©ë‹ˆë‹¤.

![img](/images/pool.png)

ëì— "True"ê°€ ìˆëŠ” ê²½ìš°. í’€ì´ ìƒì„±ë©ë‹ˆë‹¤.

**ì´ì œ ìŠ¤í…Œì´í‚¹ í’€ì„ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.**

Guildnet & Testnetì˜ ê²½ìš° OSA Discordë¡œ ì´ë™í•˜ì—¬ ì¼ë¶€ guildnet ë˜ëŠ” testnet í† í°ì„ ë°¸ë¦¬ë°ì´í„°ë¡œ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. https://discord.gg/GrBqK3ZJ2T

#### ìŠ¤í…Œì´í‚¹ í’€ ì»¨íŠ¸ë™íŠ¸ êµ¬ì„±
ë‹¤ìŒì„ êµì²´í•©ë‹ˆë‹¤.

* í’€ ì´ë¦„ â€“ pool_id.staking_pool_factory
* ì†Œìœ ì Id
* ê³µê°œ í‚¤
* ë³´ìƒ ë¹„ìœ¨
* ê³„ì • Id
```
near call <pool name> new '{"owner_id": "<owner id>", "<public key>": "<public key>", "reward_fee_fraction": {"numerator": <reward fraction>, "denominator": 100}}' --accountId <accountId>
```
#### Manage your staking pool contract
> HINT: Copy/Paste everything after this line into a text editor and use search and replace. Once your pool is deployed, you can issue the commands below:


##### ìŠ¤í…Œì´í‚¹ í’€ì˜ ì†Œìœ ì ID ê²€ìƒ‰

ëª…ë ¹:

```
near view {pool_id}.{staking_pool_factory} get_owner_id '{}'
```
##### ë°¸ë¦¬ë°ì´í„°ì— ëŒ€í•´ ë„¤íŠ¸ì›Œí¬ê°€ ê°€ì§„ ê³µê°œ í‚¤ ë°˜í™˜ì„ ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
ëª…ë ¹:

```
near view {pool_id}.{staking_pool_factory} get_staking_key '{}'
```
##### ê³µê°œ í‚¤ê°€ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ ìŠ¤í…Œì´í‚¹ í‚¤ë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì•„ë˜ì˜ pubkeyë¥¼ validator.json íŒŒì¼ì˜ í‚¤ë¡œ êµì²´).

```
near call {pool_id}.{staking_pool_factory} update_staking_key '{"stake_public_key": "<public key>"}' --accountId <accountId>
```

### ìŠ¤í…Œì´í‚¹ í’€ ì‘ì—…
> ì°¸ê³ : ì œì•ˆì„œë¥¼ ë°œí–‰í•˜ê±°ë‚˜ ìê¸ˆì„ ì…ê¸ˆí•˜ê¸° ì „ì— ë°¸ë¦¬ë°ì´í„°ê°€ ì™„ì „íˆ ë™ê¸°í™”ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

### ì œì•ˆ

ë°¸ë¦¬ë°ì´í„° ìë¦¬ë¥¼ ì–»ìœ¼ë ¤ë©´ ë¨¼ì € ì ì ˆí•œ ê¸ˆì•¡ì˜ ì§€ë¶„ì´ ìˆëŠ” ì œì•ˆì„œë¥¼ ì œì¶œí•´ì•¼ í•©ë‹ˆë‹¤. epoch +2ì— ëŒ€í•´ ì œì•ˆì´ ì „ì†¡ë©ë‹ˆë‹¤. ì¦‰, ì§€ê¸ˆ ì œì•ˆì„œë¥¼ ë³´ë‚´ë©´ ìŠ¹ì¸ë˜ë©´, 3 ì—í¬í¬ í›„ì— ìë¦¬ë¥¼ ì–»ê²Œ ë©ë‹ˆë‹¤. ìë¦¬ë¥¼ í™•ë³´í•˜ë ¤ë©´ ë§¤ ì—í¬í¬ë§ˆë‹¤ ì œì•ˆì„œë¥¼ ì œì¶œí•´ì•¼ í•©ë‹ˆë‹¤. ì œì•ˆì„œë¥¼ ë³´ë‚´ë ¤ë©´ ping ëª…ë ¹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ìŠ¤í…Œì´í‚¹ í’€ ì»¨íŠ¸ë™íŠ¸ì— ìŠ¤í…Œì´í‚¹ ë˜ëŠ” ì–¸ìŠ¤í…Œì´í¬ ëª…ë ¹ì´ ì „ì†¡ë˜ëŠ” ê²½ìš°ì—ë„ ì œì•ˆì´ ì „ì†¡ë©ë‹ˆë‹¤.

ì°¸ê³ ë¡œ í•‘ì€ ìœ„ì„ìì˜ ìŠ¤í…Œì´í‚¹ ì”ì•¡ë„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. í’€ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ë³´ê³ ëœ ë³´ìƒì„ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€í•˜ë ¤ë©´, ë§¤ ì—í¬í¬ë§ˆë‹¤ í•‘ì„ ë°œí–‰í•´ì•¼ í•©ë‹ˆë‹¤. cron ì‘ì—…ì„ ì‚¬ìš©í•˜ì—¬ í•‘ì„ ì„¤ì •í•˜ê±°ë‚˜, [Cron Cat](https://cron.cat/)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê° ë„¤íŠ¸ì›Œí¬ì— ëŒ€í•œ ìŠ¤í…Œì´í‚¹ í’€ íŒ©í† ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
* **GuildNet**: stake.guildnet
* **TestNet**: pool.f863973.m0
* **MainNet**: poolv1.near

### íŠ¸ëœì­ì…˜
#### NEAR ì…ê¸ˆ ë° ìŠ¤í…Œì´í‚¹

ëª…ë ¹:
```
near call <staking_pool_id> deposit_and_stake --amount <amount> --accountId <accountId> --gas=300000000000000
```
#### NEAR ì–¸ìŠ¤í…Œì´í‚¹
ê¸ˆì•¡ì€ yoctoNEAR ë‹¨ìœ„ë¡œ í‘œì‹œë©ë‹ˆë‹¤.

ì–¸ìŠ¤í…Œì´í‚¹í•˜ë ¤ë©´, ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.
```
near call <staking_pool_id> unstake '{"amount": "<amount yoctoNEAR>"}' --accountId <accountId> --gas=300000000000000
```
í•œë²ˆì— ì–¸ìŠ¤í…Œì´í‚¹í•˜ë ¤ë©´, ë‹¤ìŒì„ ì‹¤í–‰í•˜ë©´ ë©ë‹ˆë‹¤.
```
near call <staking_pool_id> unstake_all --accountId <accountId> --gas=300000000000000
```
#### ì¶œê¸ˆ

ì–¸ìŠ¤í…Œì´í‚¹ì€ ì™„ë£Œí•˜ëŠ” ë° 2-3 ì—í¬í¬ê°€ ê±¸ë¦¬ë©°, ê·¸ ê¸°ê°„ì´ ì§€ë‚˜ë©´ í’€ì—ì„œ YoctoNEAR ë‹¨ìœ„ì˜ ê¸ˆì•¡ì„ ì¶œê¸ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


ëª…ë ¹:
```
near call <staking_pool_id> withdraw '{"amount": "<amount yoctoNEAR>"}' --accountId <accountId> --gas=300000000000000
```
í•œë²ˆì— ì¶œê¸ˆí•˜ëŠ” ëª…ë ¹:
```
near call <staking_pool_id> withdraw_all --accountId <accountId> --gas=300000000000000
```

#### í•‘
í•‘ì€ ìƒˆë¡œìš´ ì œì•ˆì„ ë°œí–‰í•˜ê³  ìœ„ì„ìì˜ ìŠ¤í…Œì´í‚¹ ì”ì•¡ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ë³´ê³ ëœ ë³´ìƒì„ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€í•˜ë ¤ë©´, ë§¤ ì—í¬í¬ë§ˆë‹¤ í•‘ì„ ë°œí–‰í•´ì•¼ í•©ë‹ˆë‹¤.

ëª…ë ¹:
```
near call <staking_pool_id> ping '{}' --accountId <accountId> --gas=300000000000000
```
ì”ì•¡
ì´ ì”ì•¡
ëª…ë ¹:
```
near view <staking_pool_id> get_account_total_balance '{"account_id": "<accountId>"}' --gas=300000000000000
```
#### ìŠ¤í…Œì´í‚¹ ì”ì•¡
ëª…ë ¹:
```
near view <staking_pool_id> get_account_staked_balance '{"account_id": "<accountId>"}'
```
#### ì–¸ìŠ¤í…Œì´í‚¹ ì”ì•¡
Command:
```
near view <staking_pool_id> get_account_unstaked_balance '{"account_id": "<accountId>"}'
```
#### ì¶œê¸ˆ ê°€ëŠ¥
ì ê¸ˆ í•´ì œëœ ê²½ìš°ì—ë§Œ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ìê¸ˆì„ ì¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ëª…ë ¹:
```
near view <staking_pool_id> is_account_unstaked_balance_available '{"account_id": "<accountId>"}'
```
#### ìŠ¤í…Œì´í‚¹ ì¼ì‹œì •ì§€ / ì¬ê°œ
##### ì¼ì‹œì •ì§€
ëª…ë ¹:
```
near call <staking_pool_id> pause_staking '{}' --accountId <accountId>
```
##### ì¬ê°œ
ëª…ë ¹:
```
near call <staking_pool_id> resume_staking '{}' --accountId <accountId>
```

---

## ë ˆìŠ¨ 5 - ëª¨ë‹ˆí„°ë§
### ë¡œê·¸ íŒŒì¼
ë¡œê·¸ íŒŒì¼ì€ ì„¤ì •ì— ë”°ë¼ ~/.nearup/logs ë””ë ‰í† ë¦¬ ë˜ëŠ” systemdì— ì €ì¥ë©ë‹ˆë‹¤.

NEARUp ëª…ë ¹:
```
nearup logs --follow
```

Systemd ëª…ë ¹:
```
journalctl -n 100 -f -u neard | ccze -A
```

**ìƒ˜í”Œ ë¡œê·¸ íŒŒì¼:**

ë°¸ë¦¬ë°ì´í„° | 1ëª…

```
INFO stats: #85079829 H1GUabkB7TW2K2yhZqZ7G47gnpS7ESqicDMNyb9EE6tf Validator 73 validators 30 peers â¬‡ 506.1kiB/s â¬† 428.3kiB/s 1.20 bps 62.08 Tgas/s CPU: 23%, Mem: 7.4 GiB
```

* **ë°¸ë¦¬ë°ì´í„°**: â€œValidatorâ€ëŠ” ë‹¹ì‹ ì´ í™œì„± ë°¸ë¦¬ë°ì´í„°ì„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
* **73 ë°¸ë¦¬ë°ì´í„°**: ë„¤íŠ¸ì›Œí¬ ë‚´ì— ì´ 73ëª…ì˜ ë°¸ë¦¬ë°ì´í„°ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.
* **30 í”¼ì–´**: í˜„ì¬ 30ëª…ì˜ í”¼ì–´ê°€ ìˆìŠµë‹ˆë‹¤. í•©ì˜ì— ë„ë‹¬í•˜ê³  ê²€ì¦ì„ ì‹œì‘í•˜ë ¤ë©´, ìµœì†Œ 3ëª…ì˜ í”¼ì–´ê°€ í•„ìš”í•©ë‹ˆë‹¤.
* **#46199418**: ë¸”ë¡ â€“ ë¸”ë¡ì´ ê³„ì† ì¦ê°€í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

### RPC
í¬íŠ¸ê°€ ë…¸ë“œ ë°©í™”ë²½ì—ì„œ ì—´ë ¤ ìˆëŠ” í•œ, ë„¤íŠ¸ì›Œí¬ ë‚´ì˜ ëª¨ë“  ë…¸ë“œëŠ” í¬íŠ¸ 3030ì—ì„œ RPC ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. NEAR-CLIëŠ” ë‚´ë¶€ì ìœ¼ë¡œ RPC í˜¸ì¶œì„ ì‚¬ìš©í•©ë‹ˆë‹¤. RPCì˜ ì¼ë°˜ì ì¸ ìš©ë„ëŠ” ë°¸ë¦¬ë°ì´í„° í†µê³„, ë…¸ë“œ ë²„ì „, ìœ„ì„ì ì§€ë¶„ì„ í™•ì¸í•˜ëŠ” ê²ƒì´ì§€ë§Œ, ë¸”ë¡ì²´ì¸, ê³„ì • ë° ì»¨íŠ¸ë™íŠ¸ ì „ë°˜ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë°ì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì—¬ê¸°ì—ì„œ ë§ì€ ëª…ë ¹ê³¼ ì‚¬ìš© ë°©ë²•ì„ ìì„¸íˆ ì•Œì•„ë³´ì„¸ìš”.

- https://docs.near.org/api/rpc/introduction



ëª…ë ¹:
```
sudo apt install curl jq
```
##### ì¼ë°˜ì ì¸ ëª…ë ¹:
###### ë…¸ë“œ ë²„ì „ í™•ì¸:
ëª…ë ¹:
```
curl -s http://127.0.0.1:3030/status | jq .version
```
###### ìœ„ì„ì ë° ì§€ë¶„ í™•ì¸
ëª…ë ¹:
```
near view <your pool>.stake.guildnet get_accounts '{"from_index": 0, "limit": 10}' --accountId <accountId>.guildnet
```
###### ë°¸ë¦¬ë°ì´í„° íƒˆë½ ì´ìœ  í™•ì¸
ëª…ë ¹:
```
curl -s -d '{"jsonrpc": "2.0", "method": "validators", "id": "dontcare", "params": [null]}' -H 'Content-Type: application/json' https://rpc.openshards.io | jq -c ".result.prev_epoch_kickout[] | select(.account_id | contains ("<POOL_ID>"))" | jq .reason
```
###### ìƒì„± / ì˜ˆìƒ ë¸”ë¡ í™•ì¸
ëª…ë ¹:
```
curl -s -d '{"jsonrpc": "2.0", "method": "validators", "id": "dontcare", "params": [null]}' -H 'Content-Type: application/json' http://localhost:3030/ | jq -c ".result.current_validators[] | select(.account_id | contains ("POOL_ID"))"
```
### Prometheus
ë””ìŠ¤í¬, CPU, ë©”ëª¨ë¦¬, ë„¤íŠ¸ì›Œí¬ io, ëˆ„ë½ëœ ë¸”ë¡ ë° í”¼ì–´ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê²ƒì€ ê±´ê°•í•œ ë…¸ë“œë¥¼ ìœ„í•´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. í˜„ì¬ Prometheusì™€ Granfanaë¥¼ ê²°í•©í•˜ì—¬ ëª¨ë‹ˆí„°ë§ ë° ì‹œê°ì  ë³´ê³  ë„êµ¬ë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. PrometheusëŠ” ë¡œê·¸ ì €ì¥ ìš”êµ¬ ì‚¬í•­ìœ¼ë¡œ ì¸í•´, ë³„ë„ì˜ ì‹œìŠ¤í…œì— ì„¤ì •í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ìŠµë‹ˆë‹¤.

#### ì„¤ì¹˜
ëª…ë ¹:
```
sudo apt-get update
```
ëª…ë ¹:
```
sudo apt-get install prometheus prometheus-node-exporter prometheus-pushgateway
prometheus-alertmanager
```
Prometheusê°€ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€, ê²½ë¡œì— ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.
```
prometheus --version
```
#### ì„œë¹„ìŠ¤ ì‹œì‘
ëª…ë ¹:
```
sudo systemctl status prometheus
```
ëª…ë ¹:
```
sudo systemctl status prometheus-node-exporter
```
ëª…ë ¹:
```
sudo vi /etc/prometheus/prometheus.yml
```
#### íƒ€ê²Ÿ ì—…ë°ì´íŠ¸ ë° ì €ì¥
targets: [â€˜localhost:9093â€™, â€˜localhost:3030â€™]

#### ê·œì¹™ íŒŒì¼ ì°¸ê³ 
ê·œì¹™ì„ í•œ ë²ˆ ë¡œë“œí•˜ê³ , ì „ì—­ 'evaluation_interval'ì— ë”°ë¼ ê·œì¹™ì„ ì£¼ê¸°ì ìœ¼ë¡œ í‰ê°€í•©ë‹ˆë‹¤.

```
rule_files:

- "rules.yml"
```
#### Postfix ì´ë©”ì¼ ì„¤ì •
ëª…ë ¹:
```
sudo apt-get install mailutils
```
#### ì‘ë‹µ ì„¤ì •
* ì¸í„°ë„· ì‚¬ì´íŠ¸
* ë„ë©”ì¸ ì´ë¦„ ì…ë ¥(ì´ë©”ì¼ ì£¼ì†Œë¡œ ì‚¬ìš©)

ëª…ë ¹
```
sudo vi /etc/postfix/main.cf
```
#### êµ¬ì„± íŒŒì¼ ì—…ë°ì´íŠ¸ ë° ì €ì¥
* inet_interfaces = all to inet_interfaces = localhost
* inet_protocols = all to inet_protocols = ipv4

#### postfix ì¬ì‹œì‘
ëª…ë ¹:
```
sudo service postfix restart
```
#### Postfixì™€ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” í˜¸ìŠ¤íŠ¸ ì´ë¦„ ì¶”ê°€
ëª…ë ¹:
```
sudo vi /etc/hostname
```
ëª…ë ¹
```
sudo nano /etc/hosts
```
#### í…ŒìŠ¤íŠ¸ ì´ë©”ì¼ ì „ì†¡
```
echo "This is the body of the email" | mail -s "This is the subject line" user@example.com
```
#### rules.yml ì—…ë°ì´íŠ¸
ëª…ë ¹:
```
sudo vi /etc/prometheus/rules.yml
```
```
groups:
  - name: near
    rules:
      - alert: InstanceDown
        expr: up == 0
        for: 1m
        labels:
          severity: "critical"
        annotations:
          summary: "Endpoint {{ $labels.instance }} down"
          description: "{{ $labels.instance }} of job {{ $labels.job }} "
      - alert: NearVersionBuildNotMatched
        expr: near_version_build{instance="yournode.io", job="near"} != near_dev_version_build{instance="yournode.io", job="near"}
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "Near Node Version needs updated."
          description: "Your version is out of date and you risk getting kicked."
      - alert: StakeBelowSeatPrice
        expr: abs((near_current_stake / near_seat_price) * 100) < 100
        for: 2m
        labels:
          severity: critical
        annotations:
          description: 'Pool is below the current seat price'
```
#### ì„œë¹„ìŠ¤ ì¬ì‹œì‘
ëª…ë ¹:
```
sudo systemctl restart prometheus
```
ëª…ë ¹:
```
sudo systemctl status prometheus
```
```
sudo systemctl status prometheus
```
### Grafana
#### íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ ë° ì¶”ê°€
ëª…ë ¹:
```
wget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -
```
ëª…ë ¹:
```
sudo add-apt-repository "deb https://packages.grafana.com/oss/deb stable main"
```
ëª…ë ¹:
```
sudo apt-get install grafana
```
#### ê·œì¹™ ì„¤ì •
ëª…ë ¹:
```
sudo vi /etc/prometheus/rules.yml
```
```
- job_name: validator
  - static_configs:
    - targets: ['localhost:9093']
```
#### ì•Œë¦¼ ê´€ë¦¬ì ì—…ë°ì´íŠ¸
ëª…ë ¹:
```
sudo vi /etc/init.d/prometheus-alertmanager
```
```
NAME=prometheus-alertmanager
```
#### ëª…ë ¹ì¤„ ì¸ì ì„¤ì •
ëª…ë ¹:
```
sudo vi /etc/default/prometheus-alertmanager
```
```
ARGS="--cluster.listen-address="
```
#### ì„œë¹„ìŠ¤ ì‹œì‘ ë° ë¦¬ë¡œë“œ
ëª…ë ¹:
```
sudo systemctl daemon-reload
```
```
sudo systemctl enable grafana-server.service
```
```
sudo systemctl start grafana-server
```
```
sudo service grafana-server status
```
#### ì¶”ê°€ í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜
```
sudo grafana-cli plugins install simpod-json-datasource
```
```
sudo grafana-cli plugins install ryantxu-ajax-panel
```
#### ì„œë¹„ìŠ¤ ì¬ì‹œì‘ ë° ë¹„ë°€ë²ˆí˜¸ ì—…ë°ì´íŠ¸
```
service grafana-server restart
```
```
sudo grafana-cli admin reset-admin-password admin
```
#### íŠ¹ì • IPë¡œ í¬íŠ¸ ì—´ê¸°
ëª…ë ¹:
```
sudo iptables -L
```
ëª…ë ¹:
```
sudo iptables -A INPUT -p tcp --dport 3000 -s 66.73.0.194 -j ACCEPT
```
```
sudo netfilter-persistent save
```
```
sudo netfilter-persistent reload
```
#### ëŒ€ì‹œë³´ë“œ ìƒì„±
* Prometheus ë°ì´í„°ì†ŒìŠ¤ ì¶”ê°€
* ì•Œë¦¼ ì±„ë„ ì´ë©”ì¼ ì¶”ê°€
* grafana ì´ë©”ì¼ êµ¬ì„±

ëª…ë ¹
```
sudo vi /etc/grafana/grafana.ini
```
```
enabled = true
host = localhost:25
skip_verify = true
from_address = moinitor@yournode.com
from_name = Validator
```
#### ì„œë¹„ìŠ¤ ì¬ì‹œì‘
```
service grafana-server restart
```
#### ë¡œê·¸ ê°ì‹œ
```
sudo tail -f /var/log/grafana/grafana.log
```
#### Prometheus Exporter ì„¤ì¹˜

ëª…ë ¹:
```
sudo apt install golang-go
git clone https://github.com/masknetgoal634/near-prometheus-exporter.git
cd near-prometheus-exporter/
go build -a -installsuffix cgo -ldflags="-w -s" -o main .
```
#### Exporter ì‹œì‘
ëª…ë ¹:
```
./main -accountId <contract account id>
netstat -an | grep 9333
```
#### Prometheus ì—…ë°ì´íŠ¸

ëª…ë ¹:
```
sudo vi /etc/prometheus/prometheus.yml
```

```
- job_name: near-node
scrape_interval: 15s
static_configs:
- targets: ['<NODE_IP_ADDRESS>:3030']
```
#### AlertManager ì—…ë°ì´íŠ¸
```
sudo vi /etc/prometheus/alertmanager.yml
```
```
postqueue -p
```
```
amtool alert
```
```
promtool check rules /etc/prometheus/rules.yml
```
```
promtool check config /etc/prometheus/prometheus.yml
```
```
amtool check-config /etc/prometheus/alertmanager.yml
```
```
cd near-prometheus-exporter/
```
```
mv main near-exporter
```
```
sudo vi /lib/systemd/system/near-exporter.service
```

```
[Unit]

Description=NEAR Prometheus Exporter

[Service]

Restart=always

User=prometheus

EnvironmentFile=/etc/default/near-exporter

ExecStart=/opt/near-prometheus-exporter/near-exporter $ARGS

ExecReload=/bin/kill -HUP $MAINPID

TimeoutStopSec=20s

SendSIGKILL=no

[Install]

WantedBy=multi-user.target
```
#### Exporter ì—…ë°ì´íŠ¸
ëª…ë ¹:
```
sudo vi /etc/default/near-exporter

# Set the command-line arguments to pass to the server.

# Set you contract name

ARGS="-accountId yournode"
```
#### êµ¬ì„± ë³µì‚¬ ë° ì„œë¹„ìŠ¤ ì‹œì‘
ëª…ë ¹:
```
sudo cp /lib/systemd/system/near-exporter.service /etc/systemd/system/near-exporter.service
```
```
sudo chmod 644 /etc/systemd/system/near-exporter.service
```
```
sudo systemctl start near-exporter
```
```
sudo systemctl status near-exporter
```
```
ps -elf | grep near-exporter
```
```
netstat -an | grep 9333
```
```
sudo systemctl enable near-exporter
```
---

## ë ˆìŠ¨ 6 - ë¬¸ì œ í•´ê²°
ì´ ë ˆìŠ¨ì—ì„œëŠ” ë‹¤ìŒì— ëŒ€í•´ ë°°ì›ë‹ˆë‹¤.

* í‚¤
* ì¼ë°˜ì ì¸ ì˜¤ë¥˜

### í‚¤
NEARëŠ” ì•”í˜¸í™” í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê³„ì •ê³¼ ë°¸ë¦¬ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ë©°, ê° í‚¤ì—ëŠ” ê³µê°œ ë° ê°œì¸ í‚¤ ìŒì´ ìˆìŠµë‹ˆë‹¤.


NEAR ë° í‚¤ì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ ì°¾ê¸°:
https://docs.near.org/concepts/basics/account#access-keys

#### ë°¸ë¦¬ë°ì´í„° í‚¤:
íŠ¸ëœì­ì…˜ì„ ê´€ë¦¬í•˜ê³  ì„œëª…í•˜ë ¤ë©´ node_key ë° validator_keyë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

##### ë…¸ë“œ í‚¤:

ë‹¤ë¥¸ í”¼ì–´ì™€ í†µì‹ í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©° ì£¼ë¡œ ë¸”ë¡ì²´ì¸ ë™ê¸°í™”ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.
```
~/.near/<network>/node_key.json
```
ì¼ë°˜ì ì¸ ë¬¸ì œ:

ì¥ì•  ìƒí™©ì—ì„œëŠ” node_keyì™€ validator_keyë¥¼ ëª¨ë‘ ë³µì‚¬í•´ì•¼ í•©ë‹ˆë‹¤.

##### ë°¸ë¦¬ë°ì´í„° í‚¤:

ì„œëª… ë° ë¸”ë¡ ê²€ì¦ì— ì‚¬ìš©ë©ë‹ˆë‹¤.
```
~/.near/<network>/validator_key.json
```
ì¼ë°˜ì ì¸ ë¬¸ì œ:

1. ìŠ¤í…Œì´í‚¹ ì»¨íŠ¸ë™íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë°¸ë¦¬ë°ì´í„° í‚¤ê°€ validator_key.jsonì— ìˆëŠ” í‚¤ê°€ ì•„ë‹™ë‹ˆë‹¤.
2. NEARUp ì´ˆê¸°í™” â€‹â€‹ì‹œ ì œì¶œí•œ ê³„ì • IDê°€ validator_key.jsonì˜ ê³„ì • IDì™€ ë™ì¼í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.


### ì¼ë°˜ì ì¸ ì˜¤ë¥˜ & í•´ê²°ì±…
#### ë°¸ë¦¬ë°ì´í„° ë™ê¸°í™” ì „ì— ì œì•ˆ ì œì¶œ
ë°¸ë¦¬ë°ì´í„° ì§‘í•©ì— ë“¤ì–´ê°€ê¸° ìœ„í•œ ì œì•ˆì„œë¥¼ ì œì¶œí•˜ê¸° ì „ê¹Œì§€ ê²€ì¦ì¸ì´ ì™„ì „íˆ ë™ê¸°í™”ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì™„ì „íˆ ë™ê¸°í™”ë˜ì§€ ì•Šê³  ë°¸ë¦¬ë°ì´í„° ì§‘í•©ì„ ì…ë ¥í•œ ê²½ìš°, ë¡œê·¸ê°€ ì˜¤ë¥˜ë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤.


**í•´ê²° ë°©ë²•**
ë°¸ë¦¬ë°ì´í„° ì§‘í•©ì—ì„œ ì«“ê²¨ë‚  ë•Œê¹Œì§€ 4 ì—í¬í¬ë¥¼ ê¸°ë‹¤ë¦¬ì„¸ìš”. ê·¸ëŸ° ë‹¤ìŒ ë°ì´í„° ë””ë ‰í† ë¦¬ë¥¼ ì‚­ì œí•˜ê³ , ë‹¤ì‹œ ë™ê¸°í™”í•©ë‹ˆë‹¤. ìŠ¤í…Œì´í‚¹ ì‘ì—… ë˜ëŠ” í•‘ì´ í’€ë¡œ ì´ë™í•˜ê¸° ì „ì— ì™„ì „íˆ ë™ê¸°í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.
```
1. Stop the node
2. rm -Rf ~/.near/<NETWORK_ID>/data
3. Start the node
```
#### ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ê°€ ì‹¤í–‰ë˜ê³  ìˆì„ ë•Œ ë…¸ë“œ ì‹œì‘
ê²½ìš°ì— ë”°ë¼ ì…¸ ë˜ëŠ” NEARUpì—ì„œ í”„ë¡œì„¸ìŠ¤ ì—°ê²°ì´ ëŠì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë…¸ë“œë¥¼ ì‹œì‘í•˜ë ¤ê³  í•  ë•Œ í‘œì‹œë˜ëŠ” ì¼ë°˜ì ì¸ ì˜¤ë¥˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```
Err value: Os { code: 98, kind: AddrInUse, message: "Address already in use" }',
```
**í•´ê²° ë°©ë²•**
ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ì˜ pidë¥¼ ì°¾ìœ¼ì„¸ìš”.
```
ps -elf | grep neard
```
ì‹¤í–‰ ì¤‘ì¸ pidë¥¼ ì¤‘ë‹¨í•©ë‹ˆë‹¤.
```
kill -9 <PID>
```
#### ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±
ë°¸ë¦¬ë°ì´í„° ë¡œê·¸ íŒŒì¼ì—ì„œ ë‚¨ì€ ê³µê°„ì´ ì—†ë‹¤ëŠ” ì¥ì¹˜ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ë©´, ë””ìŠ¤í¬ ê³µê°„ì´ ë¶€ì¡±í•œ ê²ƒì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
1. Stop the node
2. Failover to a backup node
3. Cleanup files or resize disk
4. Fail back over.
```
#### ë°¸ë¦¬ë°ì´í„° ìë¦¬ë¥¼ ë°›ê¸°ì— ë¶€ì¡±í•œ ì§€ë¶„
ì´ëŠ” ë°¸ë¦¬ë°ì´í„° ì œì•ˆì´ ìˆ˜ë½ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì—¬, ìë¦¬ë¥¼ ë°›ì•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
near proposals
```
#### ë¸”ë¡ì„ ìƒì„±í•˜ì§€ ì•Šê³  ìˆìŒ
ë‹¹ì‹ ì˜ ë°¸ë¦¬ë°ì´í„°ê°€ í˜„ì¬ Near ë°¸ë¦¬ë°ì´í„°ë¡œì¨ ë¸”ë¡ì„ ìƒì„±í•˜ì§€ ì•Šê³  ìˆë‹¤ê³  í•´ë´…ì‹œë‹¤.

ì´ëŠ” ìŠ¤í…Œì´í‚¹ í’€ ì»¨íŠ¸ë™íŠ¸ì™€ validator_key.jsonì´ ì„œë¡œ ë‹¤ë¥¸ ê³µê°œ í‚¤ë¥¼ ê°€ì§€ê³  ìˆê±°ë‚˜, validator_key.jsonì˜ account_idê°€ ìŠ¤í…Œì´í‚¹ í’€ ì»¨íŠ¸ë™íŠ¸ IDê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

**ìŠ¤í…Œì´í‚¹ í’€ í‚¤ ê°€ì ¸ì˜¤ê¸°**
```
near view <POOL_ID> get_staking_key '{}'
```
**validator_key.json ë‚´ í‚¤ ê°€ì ¸ì˜¤ê¸°**
```
cat ~/.near/<network>/validator_key.json | grep public_key
```
> ì°¸ê³ : ë‘ í‚¤ê°€ ëª¨ë‘ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. ìŠ¤í…Œì´í‚¹ í’€ í‚¤ë¥¼ ì—…ë°ì´íŠ¸í•˜ì§€ ì•Šê³  í•‘í•˜ê¸° ì „ì— 2 ì—í¬í¬ë¥¼ ê¸°ë‹¤ë¦¬ì„¸ìš”.

**ìŠ¤í…Œì´í‚¹ í’€ í‚¤ ì—…ë°ì´íŠ¸**
```
near call <POOL_ID> update_staking_key '{"stake_public_key": "<PUBLIC_KEY>"}' --accountId <ACCOUNT_ID>
```
**account_idê°€ ìŠ¤í…Œì´í‚¹ í’€ ì»¨íŠ¸ë™íŠ¸ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.**
```
vi ~/.near/<network>/validator_key.json
```
```
"account_id" = <staking pool id>
```
> Note: if it does now match the staking pool id upate it and restart your node.

#### ì¶©ë¶„í•œ ë¸”ë¡ ë˜ëŠ” ì²­í¬ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ìˆìŒ
ëˆ„ë½ëœ ë¸”ë¡ ë˜ëŠ” ì²­í¬ëŠ” ë°¸ë¦¬ë°ì´í„°ê°€ ë°¸ë¦¬ë°ì´í„° í’€ì—ì„œ ì¶”ë°©ë˜ëŠ” ì£¼ëœ ì´ìœ ì…ë‹ˆë‹¤. NEAR-Cli ë° RPCë¥¼ í†µí•´ ì˜ˆìƒ/ëˆ„ë½ëœ ë¸”ë¡ ìˆ˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**NEAR-CLI**

```
near validators current | grep <pool id>
```
**RPC**
```
curl -s -d '{"jsonrpc": "2.0", "method": "validators", "id": "dontcare", "params": [null]}' -H 'Content-Type: application/json' http://localhost:3030/ | jq -c ".result.current_validators[] | select(.account_id | contains ("<POOL_ID>"))"
```
**ì¶”ë°©ëœ ì´ìœ  í™•ì¸**
```
curl -s -d '{"jsonrpc": "2.0", "method": "validators", "id": "dontcare", "params": [null]}' -H 'Content-Type: application/json' https://rpc.openshards.io | jq -c ".result.prev_epoch_kickout[] | select(.account_id | contains ("<POOL_ID>"))" | jq .reason
```
#### ì˜¬ë°”ë¥¸ í™˜ê²½ì„ ë‚´ë³´ë‚´ì§€ ì•ŠìŒ
NEAR-Clië¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ì˜¬ë°”ë¥¸ í™˜ê²½ì„ ì‚¬ìš©í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

```
export NEAR_ENV=<mainnet,testnet,guildnet>
```
#### AVX ì§€ì›ê³¼ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” CPU
ëˆ„ë½ëœ ë¸”ë¡ê³¼ ë…¸ë“œê°€ ë™ê¸°í™”ë˜ì§€ ì•ŠëŠ” í•œ ê°€ì§€ ì›ì¸ì€, AVXê°€ ì§€ì›ë˜ì§€ ì•ŠëŠ” CPUì—ì„œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. AVX ì§€ì›ì€ í•„ìš”í•˜ì§€ë§Œ, ì´ëŠ” íŠ¸ëœì­ì…˜ì˜ ë³µì¡ì„±ì— ë”°ë¼ í•­ìƒ ì‚¬ìš©ë˜ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.

#### SSD ë“œë¼ì´ë¸Œ ë™ì‘ ì•ˆí•¨
NEARëŠ” 1ì´ˆì˜ ë¸”ë¡ ì‹œê°„ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, HDD ë””ìŠ¤í¬ëŠ” ì´ë¥¼ ê°ë‹¹í•  ë§Œí¼ ì¶©ë¶„íˆ ë¹ ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ SDD ë“œë¼ì´ë¸Œê°€ í•„ìš”í•˜ê³ , SSD NVME ë“œë¼ì´ë¸Œê°€ ê¶Œì¥ë©ë‹ˆë‹¤.

#### ì¼ê´€ì ì´ì§€ ì•Šì€ ì¸í„°ë„· ì—°ê²°
NEARì—ëŠ” 1ì´ˆì˜ ë¸”ë¡ ì‹œê°„ì„ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ, ì¸í„°ë„· ì œê³µì—…ì²´ì˜ ë ˆì´í„´ì‹œë¡œ ì¸í•´ ë¸”ë¡ì„ ë†“ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### í•©ì˜ì— ì¶©ë¶„í•œ í”¼ì–´ë¥¼ í™•ë³´í•˜ì§€ ëª»í•¨
í”¼ì–´ë¥¼ í™•ë³´í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ì¬ì‹œì‘ì´ ë„ì›€ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë“œë¬¼ê²Œ, config.jsonì˜ boot_nodesê°€ ë¹„ì–´ ìˆì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.


í•´ë‹¹ ë¬¸ì œì— ëŒ€í•œ ë¡œê·¸ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
```
INFO stats: #42376888 Waiting for peers 0/0/40 peers â¬‡ 0 B/s â¬† 0 B/s 0.00 bps 0 gas/s CPU: 2%, Mem: 91.3 MiB
```

**í•´ê²° ë°©ë²•**
ìµœì‹  config.json íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ê³  ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤:
- For Guildnet: https://s3.us-east-2.amazonaws.com/build.openshards.io/nearcore-deploy/guildnet/config.json
- For Testnet: https://s3-us-west-1.amazonaws.com/build.nearprotocol.com/nearcore-deploy/testnet/config.json
- For Mainnet: https://s3-us-west-1.amazonaws.com/build.nearprotocol.com/nearcore-deploy/mainnet/config.json


## ë ˆìŠ¨ 7 - ë…¸ë“œ ì¥ì•  ì¡°ì¹˜
ê¸°ë³¸ ë…¸ë“œì—ì„œ í•˜ë“œì›¨ì–´ ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²½ìš° ë‹¤ë¥¸ ìœ„ì¹˜ì—ì„œ ì‘ë™í•  ë³´ì¡° ë…¸ë“œë¥¼ ìœ ì§€ ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ë¬´ì–¸ì˜ ìš”êµ¬ ì‚¬í•­ì…ë‹ˆë‹¤.

í‘œì¤€ ë…¸ë“œ(ë°¸ë¦¬ë°ì´í„° í‚¤ ì—†ìŒ)ì™€ ë‹¤ë¥¸ node_keyë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ë…¸ë“œëŠ” ì •ìƒì ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì •ë©ë‹ˆë‹¤(ë°¸ë¦¬ë°ì´í„° ë…¸ë“œ ì„¤ì • ì°¸ì¡°).

ì°¸ê³ : ë°±ì—… ë…¸ë“œëŠ” config.jsonì—ì„œ ê¸°ë³¸ ë…¸ë“œì™€ ë™ì¼í•œ ìƒ¤ë“œë¥¼ ì¶”ì í•´ì•¼ í•©ë‹ˆë‹¤. ë°±ì—… ë…¸ë“œê°€ ê¸°ë³¸ ë…¸ë“œì™€ ë™ì¼í•œ `config.json`ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

```
"tracked_shards":[0],
```

### ì¥ì•  ì¡°ì¹˜
ì¥ì• ì— ëŒ€í•´ ì¡°ì¹˜í•˜ë ¤ë©´, node_key.json ë° validatory_key.jsonì„ ë³´ì¡° ë…¸ë“œì— ë³µì‚¬í•˜ê³  ë‹¤ì‹œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.
```
1. Copy over node_key.json
2. Copy over validator_key.json
4. Stop the node primary node
3. Stop the secondary node
4. Restart the secondary node
```
ê¸°ë³¸ ë…¸ë“œì— ë°œìƒí•œ ì¥ì• ë¥¼ ë³µêµ¬í•  ë•Œ, ë³´ì¡° node_key.jsonì„ ì›ë˜ ìë¦¬ë¡œ ì˜®ê¸°ê³  ì—­ìˆœìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ ë‹¤ì‹œ ì‹œì‘í•˜ë©´ ë©ë‹ˆë‹¤.

>ì§ˆë¬¸ì´ ìˆìœ¼ì‹ ê°€ìš”?
<a href="https://stackoverflow.com/questions/tagged/nearprotocol">
  <h8>StackOverflowì— ë¬¼ì–´ë³´ì„¸ìš”!</h8></a>
